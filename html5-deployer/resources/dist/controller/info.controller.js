sap.ui.define(["./BaseController","sap/m/MessageToast","sap/ui/model/json/JSONModel","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,r,o,t,n,a){"use strict";return e.extend("rm.webshop.shop.controller.info",{onInit:function(){var e=sap.ui.require.toUrl("rm/webshop/shop")+"/img/Logo.jpg";var r=new o({rmLogo:e,selectedTabKey:"HeadInfo",UserInfo:{doctor:"",ydernr:"",cvrnr:"",brugernr:""},deliveryInfoHTML:""});this.getView().setModel(r,"view");this.getOwnerComponent().getRouter().getRoute("Routeinfo").attachPatternMatched(this._onRouteMatched,this)},_onRouteMatched:function(){var e=this.byId("idTopLevelTab");var r=this.getView().getModel("view");r.setProperty("/selectedTabKey","HeadInfo");if(e){e.setSelectedKey("HeadInfo")}this._fetchUserData()},_fetchUserData:function(){var e=this.getOwnerComponent().getModel();var o=this.getView().getModel("view");var t=this.getOwnerComponent().getModel("globalUser");var n=t?t.getProperty("/UserNo"):null;if(!n){r.show("Bruger-ID ikke fundet. Log venligst ind igen.");return}var a=`/UserSet('${n}')`;e.read(a,{urlParameters:{$format:"json"},success:function(e){o.setProperty("/UserInfo",{doctor:e.AdrName||"N/A",ydernr:e.Ydernr||"N/A",cvrnr:e.Cvr||"N/A",brugernr:e.UserNo||"N/A"});o.setProperty("/deliveryInfoHTML",e.UserInfo||"")},error:function(e){console.error("OData Read failed:",e);r.show("Kunne ikke hente brugerdata.");o.setProperty("/UserInfo",{doctor:"Fejl ved indl√¶sning",ydernr:"",cvrnr:"",brugernr:""})}})},handleIconTabBarSelect:function(e){var r=e.getParameter("selectedKey");var o=this.getView().getModel("view");o.setProperty("/selectedTabKey",r);var t=this.getOwnerComponent().getRouter();switch(r){case"HeadXSoegning":t.navTo("Routexdocvaresog");break;case"HeadInfo":t.navTo("Routeinfo");break;case"HeadXOversigt":t.navTo("Routexdocbestilling");break;case"HeadXProfil":t.navTo("Routexdocprofil");break;case"HeadXSupport":t.navTo("Routexdocsupport");break;default:break}},onBack:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Routemain")}})});
//# sourceMappingURL=info.controller.js.map