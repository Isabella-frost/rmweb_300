//@ui5-bundle rm/webshop/test/Component-preload.js
sap.ui.predefine("rm/webshop/test/Component", ["sap/ui/core/UIComponent","sap/ui/model/json/JSONModel","rm/webshop/test/model/models"],(e,t,o)=>{"use strict";return e.extend("rm.webshop.test.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},init(){e.prototype.init.apply(this,arguments);this.setModel(o.createDeviceModel(),"device");const s=new t({UserNo:null,User:null});this.setModel(s,"globalUser");try{const e=window.localStorage.getItem("rm.webshop.globalUser");if(e){s.setData(JSON.parse(e))}}catch(e){}s.attachPropertyChange(()=>{try{window.localStorage.setItem("rm.webshop.globalUser",JSON.stringify(s.getData()))}catch(e){}});this.getRouter().initialize()}})});
sap.ui.predefine("rm/webshop/test/controller/App.controller", ["sap/ui/core/mvc/Controller"],e=>{"use strict";return e.extend("rm.webshop.test.controller.App",{onInit(){}})});
sap.ui.predefine("rm/webshop/test/controller/BaseController", ["sap/ui/core/mvc/Controller","sap/m/MessageBox"],function(o,e){"use strict";return o.extend("rm.webshop.test.controller.BaseController",{getModelHandler:function(){return this.getOwnerComponent().getModelHandler()},getFormatters:function(){},getRouter:function(){return this.getOwnerComponent().getRouter()},navTo:function(o,e,n,t){this.getRouter().navTo(o,e,n,t)},getModel:function(o){return this.getView().getModel(o)},setModel:function(o,e){return this.getView().setModel(o,e)},getResourceBundle:function(){return this.getOwnerComponent().getModel("i18n").getResourceBundle()},onNavBack:function(){var o=History.getInstance().getPreviousHash(),e=sap.ushell.Container.getService("CrossApplicationNavigation");if(o!==undefined||!e.isInitialNavigation()){history.go(-1)}else{this.getRouter().navTo("master",{},true)}},showSuccessMessageBox:function(o,n){e.show(o,{icon:e.Icon.SUCCESS,title:n,actions:[e.Action.OK],onClose:function(o){}})},showWarningMessageBox:function(o,n){e.show(o,{icon:e.Icon.WARNING,title:n,actions:[e.Action.OK],onClose:function(o){}})},showErrorMessageBox:function(o,n){e.show(o,{icon:e.Icon.ERROR,title:n,actions:[e.Action.OK],onClose:function(o){}})},showErrorConfMessageBoxPromise:function(o,n,t){var i=[];if(t){i.push(t);i.push(e.Action.CANCEL)}else{i.push(e.Action.OK)}return new Promise(function(s,r){e.show(o,{icon:e.Icon.ERROR,title:n,actions:i,onClose:function(o){o===sap.m.MessageBox.Action.OK||o===t?s():r()}})})},showConfirmMsgBoxPromise:function(o,n){return new Promise(function(t,i){e.confirm(o,{title:n,onClose:function(o){o===sap.m.MessageBox.Action.OK?t():i()}})})}})});
sap.ui.predefine("rm/webshop/test/controller/Formatter", [],function(){"use strict";return{pictureUrl:function(r){var e=sap.ui.require.toUrl("rm/webshop/test")+"/img/billedevej.jpg";if(!r||r.trim()===""){return e}return r}}});
sap.ui.predefine("rm/webshop/test/controller/bestilling.controller", ["./BaseController","sap/m/MessageToast","sap/ui/model/json/JSONModel","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/model/FilterOperator","./Formatter"],function(e,r,t,a,o,n,s){"use strict";return e.extend("rm.webshop.test.controller.bestilling",{formatter:s,onInit:function(){var e=sap.ui.require.toUrl("rm/webshop/test")+"/img/Logo.jpg";var r=new t({rmLogo:e,UserInfo:{navn:"",adresse:"",zip:"",by:"",tlfnr:"",brugernr:"",afdeling:""}});this.getView().setModel(r,"view");this._fetchUserData();this.getOwnerComponent().getRouter().getRoute("Routebestilling").attachPatternMatched(this._onRouteMatched,this)},_getCurrentUserNo:function(){const e=this.getOwnerComponent().getModel("globalUser");return e?e.getProperty("/UserNo"):null},_onRouteMatched:function(e){const r=this._getCurrentUserNo();var t=this.byId("idTopLevelTab");if(t){t.setSelectedKey("HeadOversigt")}this._loadOrderHeaders(r);this._fetchUserData()},_loadOrderHeaders:function(e){var r=this.getOwnerComponent().getModel();var t=this.byId("orderList");var a=this;var o=[new sap.ui.model.Filter("UserNo",sap.ui.model.FilterOperator.EQ,e)];r.read("/OrderHeaderSet",{filters:o,urlParameters:{$expand:"OrderItemSet,OrderItemSet/TrackTraceSet"},success:function(e){var r=e.results.map(function(e){e.items=e.OrderItemSet.results.map(function(e){var r="";if(e.TrackTraceSet&&e.TrackTraceSet.results&&e.TrackTraceSet.results.length>0){e.TrackTraces=e.TrackTraceSet.results.map(function(e){let r="";if(e.OrderQuantity!==undefined&&e.OrderQuantity!==null&&e.OrderQuantity!==""){r=e.OrderQuantity.toString().replace(".",",")}return{UrlTrackTrace:e.UrlTrackTrace,TtStatusText:e.TtStatusText||"",OrderQuantity:r,CreateDateEdit:e.CreateDateEdit||""}})}else{e.TrackTraces=[]}delete e.TrackTraceSet;return e});delete e.OrderItemSet;return e});var o=new sap.ui.model.json.JSONModel({orders:r});a.getView().setModel(o,"ordersModel");t.bindItems({path:"ordersModel>/orders",template:t.getItems()[0].clone()});t.attachEventOnce("updateFinished",function(){var e=t.getItems();if(e.length>0){t.setSelectedItem(e[0],true);a.onOrderSelect(e[0])}});var n=a.byId("showClosedOrdersCheckbox");a.onShowClosedOrdersToggle({getParameter:()=>n.getSelected()});console.log("OrderHeaderSet (with TrackTraceSet) loaded:",r.length,"orders")},error:function(e){sap.m.MessageBox.error("Fejl ved load af bestillingshistorik. Genindlæs siden.");console.error("OrderHeaderSet read error:",e)}})},onShowClosedOrdersToggle:function(e){var r=e.getParameter("selected");var t=this.byId("orderList");var a=t.getBinding("items");if(!a)return;if(r){a.filter([])}else{var o=new sap.ui.model.Filter({path:"HeaderStatus",operator:sap.ui.model.FilterOperator.NE,value1:"SHIP"});a.filter([o])}},onOrderSelect:function(e){var r=e.getParameter?e.getParameter("listItem"):e;var t=r.getBindingContext("ordersModel");if(!t)return;var a=t.getPath();var o=this.byId("orderItemsList");if(o){o.bindItems({path:a+"/items",model:"ordersModel",template:o.getItems()[0].clone()})}},handleIconTabBarSelect:function(e){var r=e.getParameter("selectedKey");if(r==="HeadSoegning"){this.getOwnerComponent().getRouter().navTo("Routevaresog")}if(r==="HeadOversigt"){this.getOwnerComponent().getRouter().navTo("Routebestilling")}if(r==="HeadProfil"){this.getOwnerComponent().getRouter().navTo("Routeprofil")}if(r==="HeadSupport"){this.getOwnerComponent().getRouter().navTo("Routesupport")}},_fetchUserData:function(){var e=this.getOwnerComponent().getModel();var t=this.getView().getModel("view");const a=this._getCurrentUserNo();const o=`/UserSet('${a}')`;if(!e){r.show("Error: OData model not available.");return}e.read(o,{urlParameters:{$format:"json"},success:function(e){t.setProperty("/UserInfo",{navn:e.AdrName||"N/A",adresse:e.AdrStreet||"N/A",zip:e.AdrZip||"N/A",by:e.AdrCity||"N/A",tlfnr:e.Phone||"Ukendt, kan opdateres i 'Profil'",brugernr:e.UserNo||"N/A",afdeling:e.Afdeling})}.bind(this),error:function(e){r.show("Failed to load user data.");console.error("OData Read failed:",e);t.setProperty("/UserInfo",{navn:"Fejl: Kunne ikke hente data",adresse:"",zip:"",by:"",tlfnr:"",brugernr:"",afdeling:""})}.bind(this)})},onCopyOrderItem:function(e){var t=e.getSource();var o=t.getBindingContext("ordersModel");if(!o){r.show("Fejl: Kunne ikke finde vareoplysninger.");return}var n=o.getObject();const s=this._getCurrentUserNo();var i=n.GuidMat;var d=n.Matnr;var l=String(n.OrderQuantity);var u={UserNo:s,GuidMat:i,OrderQuantity:l};var g=this.getOwnerComponent().getModel();var c="/BasketSet";g.create(c,u,{success:function(e){if(this._loadBasket){this._loadBasket(s)}r.show(n.Maktx+" ("+l+" stk) tilføjet til kurv")}.bind(this),error:function(e){var r="Fejl: Kunne ikke tilføje vare til kurven. Prøv venligst igen.";try{if(e&&e.responseText){var t=JSON.parse(e.responseText);if(t.error&&t.error.innererror&&t.error.innererror.errordetails&&t.error.innererror.errordetails.length>0){r=t.error.innererror.errordetails[0].message||r}else if(t.error&&t.error.message&&t.error.message.value){r=t.error.message.value}}else if(e&&e.message){r=e.message}}catch(e){console.error("Fejl ved parsing af OData fejl:",e)}a.error(r);console.error("BasketSet create error for item "+d+":",e)}.bind(this)})},onCopyOrder:async function(){var e=this.byId("orderItemsList");var r=e.getItems();var t=this;var a=[];var o=0;const n=this._getCurrentUserNo();if(r.length===0){sap.m.MessageToast.show("Ingen varer at kopiere.");return}sap.ui.core.BusyIndicator.show(0);for(const e of r){var s=e.getBindingContext("ordersModel");var i=s.getObject();var d={UserNo:n,GuidMat:i.GuidMat,OrderQuantity:String(i.OrderQuantity)};try{await this._createBasketItem(d,i.Maktx);o++}catch(e){a.push(e)}}sap.ui.core.BusyIndicator.hide();if(t._loadBasket){t._loadBasket(n)}if(a.length>0){var l=a.join(", \n");var u=`Følgende ${a.length} varer kunne IKKE tilføjes til kurven, da de ikke længere er tilgængelige:\n\n${l}`;sap.m.MessageBox.warning(u,{title:"Nogle varer er utilgængelige"})}if(o>0){sap.m.MessageToast.show(`${o} vare(r) fra ordren er tilføjet til kurven.`)}else if(a.length>0){sap.m.MessageToast.show("Ingen varer blev tilføjet til kurven.")}},_createBasketItem:function(e,r){var t=this.getOwnerComponent().getModel();var a="/BasketSet";return new Promise((o,n)=>{t.create(a,e,{success:function(e){o()},error:function(e){console.error(`Error adding item ${r} to basket:`,e);n(r)}})})},onBack(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Routemain")},onOpenBasket:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Routevaresog")}})});
sap.ui.predefine("rm/webshop/test/controller/info.controller", ["./BaseController","sap/m/MessageToast","sap/ui/model/json/JSONModel","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,r,o,n,a){"use strict";return e.extend("rm.webshop.test.controller.info",{onInit:function(){var e=sap.ui.require.toUrl("rm/webshop/test")+"/img/Logo.jpg";var t=new r({rmLogo:e,selectedTabKey:"HeadInfo",UserInfo:{doctor:"",ydernr:"",cvrnr:"",brugernr:""},deliveryInfoHTML:""});this.getView().setModel(t,"view");this.getOwnerComponent().getRouter().getRoute("Routeinfo").attachPatternMatched(this._onRouteMatched,this)},_onRouteMatched:function(){var e=this.byId("idTopLevelTab");var t=this.getView().getModel("view");t.setProperty("/selectedTabKey","HeadInfo");if(e){e.setSelectedKey("HeadInfo")}this._fetchUserData()},_fetchUserData:function(){var e=this.getOwnerComponent().getModel();var r=this.getView().getModel("view");var o=this.getOwnerComponent().getModel("globalUser");var n=o?o.getProperty("/UserNo"):null;if(!n){t.show("Bruger-ID ikke fundet. Log venligst ind igen.");return}var a=`/UserSet('${n}')`;e.read(a,{urlParameters:{$format:"json"},success:function(e){r.setProperty("/UserInfo",{doctor:e.AdrName||"N/A",ydernr:e.Ydernr||"N/A",cvrnr:e.Cvr||"N/A",brugernr:e.UserNo||"N/A"});r.setProperty("/deliveryInfoHTML",e.UserInfo||"")},error:function(e){console.error("OData Read failed:",e);t.show("Kunne ikke hente brugerdata.");r.setProperty("/UserInfo",{doctor:"Fejl ved indlæsning",ydernr:"",cvrnr:"",brugernr:""})}})},handleIconTabBarSelect:function(e){var t=e.getParameter("selectedKey");var r=this.getView().getModel("view");r.setProperty("/selectedTabKey",t);var o=this.getOwnerComponent().getRouter();switch(t){case"HeadXSoegning":o.navTo("Routexdocvaresog");break;case"HeadInfo":o.navTo("Routeinfo");break;case"HeadXOversigt":o.navTo("Routexdocbestilling");break;case"HeadXProfil":o.navTo("Routexdocprofil");break;case"HeadXSupport":o.navTo("Routexdocsupport");break;default:break}},onBack:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Routemain")},onOpenBasket:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Routexdocvaresog")}})});
sap.ui.predefine("rm/webshop/test/controller/main.controller", ["./BaseController","sap/m/MessageToast","sap/m/MessageBox","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator"],(e,r,t,o,s,n)=>{"use strict";return e.extend("rm.webshop.test.controller.main",{onInit(){},_parseODataError(e){let r="Der opstod en fejl. Prøv igen.";try{if(e&&e.responseText){const t=JSON.parse(e.responseText);if(t.error?.message?.value){r=t.error.message.value}else if(t.error?.innererror?.errordetails?.length>0){r=t.error.innererror.errordetails[0].message||r}}else if(e&&e.message){r=e.message}}catch(e){console.error("Fejl ved parsing af OData fejl:",e)}return r},async _hashCprWithKey(e){const r="TESTks75ka;.kiaqq-po/gf&.hsqTEST";const t=new TextEncoder;const o=t.encode(e);const s=t.encode(r);const n=await crypto.subtle.importKey("raw",s,{name:"HMAC",hash:"SHA-512"},false,["sign"]);const a=await crypto.subtle.sign("HMAC",n,o);const i=Array.from(new Uint8Array(a));return i.map(e=>e.toString(16).padStart(2,"0")).join("").toUpperCase()},async onPressLogin(){const e=this.byId("iduserIdInput").getValue().trim();if(!e){r.show("Indtast venligst et CPR-nummer.");return}let a;try{a=await this._hashCprWithKey(e)}catch(e){console.error("Hashing error:",e);t.error("Fejl ved kryptering af CPR-nummer.");return}const i=this.getOwnerComponent().getModel();const l=this;const c=[new s("CprHash",n.EQ,a)];i.read("/UserSet",{filters:c,success(e){const t=e.results;if(t.length===0){r.show("Ingen brugere fundet for dette CPR-nummer.");return}const s=new o({users:t});l.getOwnerComponent().setModel(s,"loginUsers");const n=new o({role:"patient"});l.getOwnerComponent().setModel(n,"loginContext");const a=sap.ui.core.UIComponent.getRouterFor(l);if(t.length===1){const e=t[0];const r=l.getOwnerComponent().getModel("globalUser");if(r){r.setProperty("/UserNo",e.UserNo);r.setProperty("/User",e);try{window.localStorage.setItem("rm.webshop.globalUser",JSON.stringify(r.getData()))}catch(e){}}a.navTo("Routevaresog")}else{a.navTo("Routevaelgklinik")}},error(e){console.error("OData read error:",e);const r=l._parseODataError(e);t.error(r)}})},onPressDoc(){const e=this.byId("idpasswordInput").getValue().trim();if(!e){r.show("Indtast venligst et CVR-nummer.");return}const a=this.getOwnerComponent().getModel();const i=this;const l=[new s("Cvr",n.EQ,e)];a.read("/UserSet",{filters:l,success(e){const t=e.results;if(t.length===0){r.show("Ingen brugere fundet for dette CVR-nummer.");return}const s=new o({users:t});i.getOwnerComponent().setModel(s,"loginUsers");const n=new o({role:"doc"});i.getOwnerComponent().setModel(n,"loginContext");const a=sap.ui.core.UIComponent.getRouterFor(i);if(t.length===1){const e=t[0];const r=i.getOwnerComponent().getModel("globalUser");if(r){r.setProperty("/UserNo",e.UserNo);r.setProperty("/User",e);try{window.localStorage.setItem("rm.webshop.globalUser",JSON.stringify(r.getData()))}catch(e){}}a.navTo("Routeinfo")}else{a.navTo("Routevaelgklinik")}},error(e){console.error("OData read error:",e);const r=i._parseODataError(e);t.error(r)}})}})});
sap.ui.predefine("rm/webshop/test/controller/profil.controller", ["./BaseController","sap/ui/model/json/JSONModel","sap/m/MessageToast"],function(e,t,r){"use strict";return e.extend("rm.webshop.test.controller.profil",{_oInitialUserData:{},onInit:function(){var e=sap.ui.require.toUrl("rm/webshop/test")+"/img/Logo.jpg";var r=new t({rmLogo:e,selectedAddressOption:0,UserInfo:{navn:"",brugernr:"",street:"",zip:"",city:"",tlfnr:"",phone:"",mail:"",DelStreet:"",DelZip:"",DelCity:"",afdeling:""}});this.getView().setModel(r,"view");this.getOwnerComponent().getRouter().getRoute("Routeprofil").attachPatternMatched(this._onRouteMatched,this);this._fetchUserData()},_getCurrentUserNo:function(){const e=this.getOwnerComponent().getModel("globalUser");return e?e.getProperty("/UserNo"):null},_fetchUserData:function(){var e=this.getOwnerComponent().getModel();var t=this.getView().getModel("view");const o=this._getCurrentUserNo();const n=`/UserSet('${o}')`;if(!e){r.show("Error: OData model not available.");return}e.read(n,{urlParameters:{$format:"json"},success:function(e){this._oInitialUserData=e;t.setProperty("/UserInfo",{navn:e.AdrName||"N/A",brugernr:e.UserNo||"N/A",street:e.AdrStreet||"N/A",zip:e.AdrZip||"N/A",city:e.AdrCity||"N/A",tlfnr:e.Phone||"Ukendt, kan opdateres i 'Profil'",phone:e.Phone||"",mail:e.EMail||"",DelStreet:e.DelStreet||"",DelZip:e.DelZip||"",DelCity:e.DelCity||"",afdeling:e.Afdeling})}.bind(this),error:function(e){r.show("Failed to load user data.");console.error("OData Read failed:",e);t.setProperty("/UserInfo",{navn:"Fejl: Kunne ikke hente data",street:"",zip:"",city:"",tlfnr:"",brugernr:"",afdeling:""})}.bind(this)})},_onRouteMatched:function(e){var t=this.byId("idTopLevelTab");if(t){t.setSelectedKey("HeadProfil")}},handleIconTabBarSelect:function(e){var t=e.getParameter("selectedKey");if(t==="HeadSoegning"){this.getOwnerComponent().getRouter().navTo("Routevaresog")}if(t==="HeadOversigt"){this.getOwnerComponent().getRouter().navTo("Routebestilling")}if(t==="HeadProfil"){this.getOwnerComponent().getRouter().navTo("Routeprofil")}if(t==="HeadSupport"){this.getOwnerComponent().getRouter().navTo("Routesupport")}},onUpdateUser:function(){var e=this.getOwnerComponent().getModel();var t=this.getView().getModel("view");var o=t.getProperty("/UserInfo");var n=this._oInitialUserData;const i=this._getCurrentUserNo();if(!e){r.show("Fejl: OData model ikke tilgængelig.");return}var a={UserNo:i,DelName:n.DelName||"DEL Lægerne Gasvej 5",DelName2:n.DelName2||"Del name2",DelAtt:n.DelAtt||"DEL ATT",FavoriteList:n.FavoriteList||"Favorite99",DelStreet:o.DelStreet,DelZip:o.DelZip,DelCity:o.DelCity,Phone:o.phone,EMail:o.mail};e.create("/UserSet",a,{success:function(e,n){r.show("Brugerinformation opdateret succesfuldt!");t.setProperty("/UserInfo/tlfnr",o.phone);this._fetchUserData()}.bind(this),error:function(e){r.show("Fejl ved opdatering af brugerinformation.");console.error("OData Create (Update) failed:",e)}})},onBack(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Routemain")},onOpenBasket:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Routevaresog")}})});
sap.ui.predefine("rm/webshop/test/controller/support.controller", ["./BaseController","sap/ui/model/json/JSONModel","sap/m/MessageToast"],function(e,t,o){"use strict";return e.extend("rm.webshop.test.controller.support",{onInit:function(){var e=sap.ui.require.toUrl("rm/webshop/test")+"/img/Logo.jpg";var o=new t({rmLogo:e,selectedTabKey:"HeadSupport",UserInfo:{navn:"",adresse:"",zip:"",by:"",tlfnr:"",brugernr:"",afdeling:""}});this.getView().setModel(o,"view");this.getOwnerComponent().getRouter().getRoute("Routesupport").attachPatternMatched(this._onRouteMatched,this);this._fetchUserData()},_getCurrentUserNo:function(){const e=this.getOwnerComponent().getModel("globalUser");return e?e.getProperty("/UserNo"):null},_fetchUserData:function(){var e=this.getOwnerComponent().getModel();var t=this.getView().getModel("view");const r=this._getCurrentUserNo();const n=`/UserSet('${r}')`;if(!e){o.show("Error: OData model not available.");return}e.read(n,{urlParameters:{$format:"json"},success:function(e){t.setProperty("/UserInfo",{navn:e.AdrName||"N/A",adresse:e.AdrStreet||"N/A",zip:e.AdrZip||"N/A",by:e.AdrCity||"N/A",tlfnr:e.Phone||"Ukendt, kan opdateres i 'Profil'",brugernr:e.UserNo||"N/A",afdeling:e.Afdeling})}.bind(this),error:function(e){o.show("Failed to load user data.");console.error("OData Read failed:",e);t.setProperty("/UserInfo",{navn:"Fejl: Kunne ikke hente data",adresse:"",zip:"",by:"",tlfnr:"",brugernr:"",afdeling:""})}.bind(this)})},_onRouteMatched:function(e){var t=this.byId("idTopLevelTab");var o=this.getView().getModel("view");if(t){t.setSelectedKey("HeadSupport");o.setProperty("/selectedTabKey","HeadSupport")}},handleIconTabBarSelect:function(e){var t=e.getParameter("selectedKey");var o=this.getView().getModel("view");o.setProperty("/selectedTabKey",t);if(t==="HeadSoegning"){this.getOwnerComponent().getRouter().navTo("Routevaresog")}if(t==="HeadOversigt"){this.getOwnerComponent().getRouter().navTo("Routebestilling")}if(t==="HeadProfil"){this.getOwnerComponent().getRouter().navTo("Routeprofil")}if(t==="HeadSupport"){this.getOwnerComponent().getRouter().navTo("Routesupport")}},onBack(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Routemain")},onOpenBasket:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Routevaresog")}})});
sap.ui.predefine("rm/webshop/test/controller/vaelgklinik.controller", ["./BaseController","sap/m/MessageToast","sap/ui/model/json/JSONModel"],(e,t,o)=>{"use strict";return e.extend("rm.webshop.test.controller.vaelgklinik",{onInit(){},onSelectClinic(e){const t=e.getParameter("listItem");const o=t.getBindingContext("loginUsers").getObject();const s=o.UserNo;const n=this.getOwnerComponent().getModel("globalUser");n.setProperty("/UserNo",s);n.setProperty("/User",o);try{window.localStorage.setItem("rm.webshop.globalUser",JSON.stringify(n.getData()))}catch(e){}sap.m.MessageToast.show("Valgt bruger: "+s);const r=this.getOwnerComponent().getModel("loginContext");const a=r?.getProperty("/role");const g=this.getOwnerComponent().getRouter();if(a==="patient"){g.navTo("Routevaresog")}else{g.navTo("Routeinfo")}}})});
sap.ui.predefine("rm/webshop/test/controller/varesog.controller", ["./BaseController","sap/m/MessageToast","sap/ui/model/json/JSONModel","sap/ui/core/Fragment","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/model/FilterOperator","./Formatter"],function(e,r,t,o,a,n,i,s){"use strict";return e.extend("rm.webshop.test.controller.varesog",{_oOrderDialog:null,_oFinalConfirmationDialog:null,_oOrderSentDialog:null,formatter:s,onInit:function(){var e=sap.ui.require.toUrl("rm/webshop/test")+"/img/Logo.jpg";var r=new t({rmLogo:e,basket:[],selectedAddressOption:0,UserInfo:{navn:"",adresse:"",zip:"",by:"",tlfnr:"",brugernr:"",afdeling:""}});this.getView().setModel(r,"view");var o=new t({orders:[]});this.getOwnerComponent().setModel(o,"webshop");this._fetchUserData();this.getOwnerComponent().getRouter().getRoute("Routevaresog").attachPatternMatched(this._onRouteMatched,this)},_getCurrentUserNo:function(){const e=this.getOwnerComponent().getModel("globalUser");return e?e.getProperty("/UserNo"):null},_onRouteMatched:function(e){const r=this._getCurrentUserNo();var t=this.byId("idTopLevelTab");if(t){t.setSelectedKey("HeadSoegning")}this._loadCatalogSet(r);this._loadBasket(r);this._fetchUserData()},_loadBasket:function(e){var r=this.getOwnerComponent().getModel();var t=this.getView().getModel("view");var o=[new(n||sap.ui.model.Filter)("UserNo",(i||sap.ui.model.FilterOperator).EQ,e)];r.read("/BasketSet",{filters:o,success:function(e){t.setProperty("/shoppingcart",e.results);console.log("BasketSet loaded:",e.results)},error:function(e){sap.m.MessageBox.error("Fejl ved load af varekurvdata. Prøv venligst igen.");console.error("BasketSet read error",e)}})},_loadCatalogSet:function(e){var r=this.getOwnerComponent().getModel();var t=this.getView().getModel("view");const o=sap.ui.model.Filter;const a=sap.ui.model.FilterOperator;var n=[new o("UserNo",a.EQ,e)];sap.ui.core.BusyIndicator.show(0);r.read("/CatalogSet",{filters:n,urlParameters:{$expand:"CatalogAttributeSet",$format:"json"},success:function(e,r){sap.ui.core.BusyIndicator.hide();t.setProperty("/catalog",e.results);console.log("CatalogSet with Attributes loaded:",e.results)}.bind(this),error:function(e){sap.ui.core.BusyIndicator.hide();sap.m.MessageBox.error("Fejl ved load af katalogdata. Prøv igen.");console.error("CatalogSet read error",e)}.bind(this)})},handleIconTabBarSelect:function(e){var r=e.getParameter("selectedKey");if(r==="HeadSoegning"){this.getOwnerComponent().getRouter().navTo("Routevaresog")}if(r==="HeadOversigt"){this.getOwnerComponent().getRouter().navTo("Routebestilling")}if(r==="HeadProfil"){this.getOwnerComponent().getRouter().navTo("Routeprofil")}if(r==="HeadSupport"){this.getOwnerComponent().getRouter().navTo("Routesupport")}},onSearchMaterials:function(e){var r=e.getParameter("newValue");var t=[];if(r){var o=new sap.ui.model.Filter("Matnr",sap.ui.model.FilterOperator.Contains,r);var a=new sap.ui.model.Filter("Maktx",sap.ui.model.FilterOperator.Contains,r);var n=new sap.ui.model.Filter("MaktxLong",sap.ui.model.FilterOperator.Contains,r);var i=new sap.ui.model.Filter("Levmat",sap.ui.model.FilterOperator.Contains,r);var s=new sap.ui.model.Filter("KeywordSearch",sap.ui.model.FilterOperator.Contains,r);var l=new sap.ui.model.Filter({filters:[o,a,n,i,s],and:false});t.push(l)}var d=this.getView().byId("catalogList");var g=d.getBinding("items");g.filter(t)},onAddToCart:function(e){var t=e.getSource();var o=t.getBindingContext("view");var n=o.getObject();const i=this._getCurrentUserNo();var s=n.GuidMat;var l=n.Matnr;var d={UserNo:i,GuidMat:n.GuidMat,OrderQuantity:n.Multiplum};var g=this.getOwnerComponent().getModel();var u="/BasketSet";g.create(u,d,{success:function(e){this._loadBasket(i);r.show(e.Maktx+" tilføjet til kurv")}.bind(this),error:function(e){var r="Fejl ved tilføjelse til kurv. Prøv igen";try{if(e&&e.responseText){var t=JSON.parse(e.responseText);if(t.error&&t.error.message&&t.error.message.value){r=t.error.message.value}else if(t.error&&t.error.innererror&&t.error.innererror.errordetails&&t.error.innererror.errordetails.length>0){r=t.error.innererror.errordetails[0].message||r}}else if(e&&e.message){r=e.message}}catch(e){console.error("Fejl ved parsing af OData fejl:",e)}a.error(r);console.error("Varekurv fejl:",e)}})},onDecreaseQuantity:function(e){var t=e.getSource();var o=t.getBindingContext("view");var n=o.getObject();const i=this._getCurrentUserNo();var s=n.GuidMat;var l=n.Matnr;var d=n.Multiplum;var g="-"+d.toString();var u={UserNo:i,GuidMat:n.GuidMat,OrderQuantity:g};var c=this.getOwnerComponent().getModel();var v="/BasketSet";c.create(v,u,{success:function(e){this._loadBasket(i);r.show(n.Maktx+" fjernet fra kurv")}.bind(this),error:function(e){a.error("Fejl ved opdatering af varekurv. Prøv igen.");console.error("Varekurv fejl:",e)}})},onRemoveFromCart:function(e){var t=e.getSource();var o=t.getBindingContext("view");var n=o.getObject();const i=this._getCurrentUserNo();var s=n.Matnr;var l=parseInt(n.OrderQuantity,10);var d="-"+l.toString();if(l<=0||isNaN(l)){r.show("Kurven er tom");return}var g={UserNo:i,GuidMat:n.GuidMat,OrderQuantity:d};var u=this.getOwnerComponent().getModel();var c="/BasketSet";u.create(c,g,{success:function(e){this._loadBasket(i);r.show(n.Maktx+" fjernet fra kurv")}.bind(this),error:function(e){a.error("Fejl ved fjernelse af materiale fra kurv. Prøv venligst igen.");console.error("BasketSet create error:",e)}})},onOrder:function(){var e=this.getView().getModel("view").getProperty("/shoppingcart")||[];var t=e.reduce(function(e,r){return e+parseInt(r.OrderQuantity,10)},0);if(t===0){r.show("Kurven er tom.");return}if(!this._oOrderDialog){o.load({id:this.getView().getId(),name:"rm.webshop.test.view.fragment.OrderDialog",controller:this}).then(function(e){this._oOrderDialog=e;this.getView().addDependent(e);this._setupOrderDialog(t)}.bind(this))}else{this._setupOrderDialog(t)}},_setupOrderDialog:function(e){var r=this.getView().getModel("view");var o=r.getProperty("/UserContact")||{email:"",phone:"",address:{}};var a=new t({alternativeAddress:{streetName:"",streetNr:"",postalCode:"",city:""},contactInfo:{email:o.email,phone:o.phone},registeredAddress:o.address,totalItems:e,selectedAddressOption:0,chosenAddress:null});this._oOrderDialog.setModel(a,"orderDialog");this._oOrderDialog.open()},onConfirmOrder:function(){var e=this._oOrderDialog.getModel("orderDialog");var r=e.getData();var t;var o=r.selectedAddressOption;var n=this.getOwnerComponent().getModel("webshop");if(o===0){var i=this.getView().getModel("view");var s=i.getProperty("/UserContact/address");if(!s||!s.streetName){a.error("Der mangler registreret adresseinformation for brugeren.");return}t=s.streetName+" "+s.streetNr+", "+s.postalCode+" "+s.city}else{var l=r.alternativeAddress;if(!l.streetName||!l.streetNr||!l.postalCode||!l.city){a.error("Udfyld venligst alle felter for den alternative adresse.");return}t=l.streetName+" "+l.streetNr+", "+l.postalCode+" "+l.city}var d=this.byId("phoneInput");var g=d.getValue()||"";var u=g.replace(/[^0-9]/g,"");if(u.length===0){a.error("Telefonnummer er obligatorisk.");return}else if(u.length!==8){a.error("Telefonnummeret skal bestå af præcis 8 cifre (uden landekode).");return}var c=u;r.contactInfo.phone=c;r.chosenAddress=t;e.setData(r);this._openFinalConfirmationDialog()},onCancelOrder:function(){this._oOrderDialog.close()},_openFinalConfirmationDialog:function(){if(!this._oFinalConfirmationDialog){o.load({id:this.getView().getId(),name:"rm.webshop.test.view.fragment.FinalConfirmationDialog",controller:this}).then(function(e){this._oFinalConfirmationDialog=e;this.getView().addDependent(e);this._setupFinalConfirmationDialog()}.bind(this))}else{this._setupFinalConfirmationDialog()}},_setupFinalConfirmationDialog:function(){var e=this._oOrderDialog.getModel("orderDialog").getData();this.byId("finalAddressText").setText(e.chosenAddress);this.byId("finalEmailText").setText("Email: "+e.contactInfo.email);this.byId("finalPhoneText").setText("Telefon: "+e.contactInfo.phone);this.byId("finalConfirmationText").setText(this.getResourceBundle().getText("Bekræft venligst din bestilling.")||"Bekræft venligst din bestilling.");this._oFinalConfirmationDialog.open()},onFinalOrder:function(){this._oFinalConfirmationDialog.close();this._openOrderSentDialog()},onFinalCancel:function(){this._oFinalConfirmationDialog.close()},_openOrderSentDialog:function(){if(!this._oOrderSentDialog){o.load({id:this.getView().getId(),name:"rm.webshop.test.view.fragment.OrderSentDialog",controller:this}).then(function(e){this._oOrderSentDialog=e;this.getView().addDependent(e);this._setupOrderSentDialog()}.bind(this))}else{this._setupOrderSentDialog()}},_setupOrderSentDialog:function(){var e=this._oOrderDialog.getModel("orderDialog");var r=e.getProperty("/contactInfo/email");var t;if(!r||r.trim()===""){var o=e.getProperty("/contactInfo/phone");t="Ordren er bestilt. Du vil modtage en besked på "+o+" ved levering."}else{t=this.getResourceBundle().getText("orderSentConfirmation",[r])}var a=this.byId("orderSentText");if(a){a.setText(t)}this._oOrderSentDialog.open()},onOrderSentConfirm:function(){this._oOrderSentDialog.close();this._processFinalOrder()},_processFinalOrder:function(){var e=this;var r=this._oOrderDialog.getModel("orderDialog");var t=r.getData();var o=this.getOwnerComponent().getModel();var n=this.getView().getModel("view");const i=this._getCurrentUserNo();var s=t.chosenAddress||"";var l=s.split(",");var d=l[0]?l[0].trim():"";var g=l[1]?l[1].trim():"";var u=d;var c=g.split(" ");var v=c[0]||"";var f=c.slice(1).join(" ")||"";var h=n.getProperty("/UserContact")||{};var p={UserNo:i,Name:n.getProperty("/UserInfo/navn")||"",Name2:"",Street:u||h.address.streetName+" "+h.address.streetNr,Zip:v||h.address.postalCode,City:f||h.address.city,Att:"",Phone:t.contactInfo.phone||h.phone,EMail:t.contactInfo.email||h.email};o.create("/OrderHeaderSet",p,{success:function(r,t){var o=r.OrderNumber||"Ukendt";a.success("Ordren "+o+" er afsendt.");e._oOrderDialog.close();e._loadBasket(i);e.getOwnerComponent().getRouter().navTo("Routebestilling")},error:function(e){a.error("Fejl ved afsendelse af ordre. Prøv igen.");console.error("OrderHeaderSet CREATE error:",e)}})},_fetchUserData:function(){var e=this.getOwnerComponent().getModel();var t=this.getView().getModel("view");const o=this._getCurrentUserNo();const a=`/UserSet('${o}')`;if(!e){r.show("Error: OData model not available.");return}e.read(a,{urlParameters:{$format:"json"},success:function(e){t.setProperty("/UserInfo",{navn:e.AdrName||"N/A",adresse:e.AdrStreet||"N/A",zip:e.AdrZip||"N/A",by:e.AdrCity||"N/A",tlfnr:e.Phone||"Ukendt, kan opdateres i 'Profil'",brugernr:e.UserNo||"N/A",afdeling:e.Afdeling});t.setProperty("/UserContact",{email:e.EMail||"",phone:e.Phone||"",address:{streetName:e.AdrStreet||"",streetNr:e.AdrHouseNo||"",postalCode:e.AdrZip||"",city:e.AdrCity||""}})}.bind(this),error:function(e){r.show("Failed to load user data.");console.error("OData Read failed:",e);t.setProperty("/UserInfo",{navn:"Fejl: Kunne ikke hente data",adresse:"",zip:"",by:"",tlfnr:"",brugernr:"",afdeling:""})}.bind(this)})},onBack(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Routemain")}})});
sap.ui.predefine("rm/webshop/test/controller/xdocbestilling.controller", ["./BaseController","sap/m/MessageToast","sap/ui/model/json/JSONModel","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/model/FilterOperator","./Formatter"],function(e,r,t,o,a,n,s){"use strict";return e.extend("rm.webshop.test.controller.xdocbestilling",{formatter:s,onInit:function(){var e=sap.ui.require.toUrl("rm/webshop/test")+"/img/Logo.jpg";var r=new t({rmLogo:e,selectedTabKey:"HeadXOversigt",UserContact:{address:{}},UserInfo:{doctor:"",ydernr:"",cvrnr:"",brugernr:""}});this.getView().setModel(r,"view");this._fetchUserData();this.getOwnerComponent().getRouter().getRoute("Routexdocbestilling").attachPatternMatched(this._onRouteMatched,this)},_getCurrentUserNo:function(){const e=this.getOwnerComponent().getModel("globalUser");return e?e.getProperty("/UserNo"):null},_onRouteMatched:function(e){const r=this._getCurrentUserNo();var t=this.byId("idTopLevelTab");if(t){t.setSelectedKey("HeadXOversigt")}this._loadOrderHeaders(r);this._fetchUserData()},_loadOrderHeaders:function(e){var r=this.getOwnerComponent().getModel();var t=this.byId("orderList");var o=this;var a=[new sap.ui.model.Filter("UserNo",sap.ui.model.FilterOperator.EQ,e)];r.read("/OrderHeaderSet",{filters:a,urlParameters:{$expand:"OrderItemSet,OrderItemSet/TrackTraceSet"},success:function(e){var r=e.results.map(function(e){e.items=e.OrderItemSet.results.map(function(e){var r="";if(e.TrackTraceSet&&e.TrackTraceSet.results&&e.TrackTraceSet.results.length>0){e.TrackTraces=e.TrackTraceSet.results.map(function(e){let r="";if(e.OrderQuantity!==undefined&&e.OrderQuantity!==null&&e.OrderQuantity!==""){r=e.OrderQuantity.toString().replace(".",",")}return{UrlTrackTrace:e.UrlTrackTrace,TtStatusText:e.TtStatusText||"",OrderQuantity:r,CreateDateEdit:e.CreateDateEdit||""}})}else{e.TrackTraces=[]}delete e.TrackTraceSet;return e});delete e.OrderItemSet;return e});var a=new sap.ui.model.json.JSONModel({orders:r});o.getView().setModel(a,"ordersModel");t.bindItems({path:"ordersModel>/orders",template:t.getItems()[0].clone()});t.attachEventOnce("updateFinished",function(){var e=t.getItems();if(e.length>0){t.setSelectedItem(e[0],true);o.onOrderSelect(e[0])}});var n=o.byId("showClosedOrdersCheckbox");o.onShowClosedOrdersToggle({getParameter:()=>n.getSelected()});console.log("OrderHeaderSet (with TrackTraceSet) loaded:",r.length,"orders")},error:function(e){sap.m.MessageBox.error("Fejl ved load af bestillingshistorik. Genindlæs siden.");console.error("OrderHeaderSet read error:",e)}})},onShowClosedOrdersToggle:function(e){var r=e.getParameter("selected");var t=this.byId("orderList");var o=t.getBinding("items");if(!o)return;if(r){o.filter([])}else{var a=new sap.ui.model.Filter({path:"HeaderStatus",operator:sap.ui.model.FilterOperator.NE,value1:"SHIP"});o.filter([a])}},onOrderSelect:function(e){var r=e.getParameter?e.getParameter("listItem"):e;var t=r.getBindingContext("ordersModel");if(!t)return;var o=t.getPath();var a=this.byId("orderItemsList");if(a){a.bindItems({path:o+"/items",model:"ordersModel",template:a.getItems()[0].clone()})}},handleIconTabBarSelect:function(e){var r=e.getParameter("selectedKey");var t=this.getView().getModel("view");t.setProperty("/selectedTabKey",r);if(r==="HeadXSoegning"){this.getOwnerComponent().getRouter().navTo("Routexdocvaresog")}if(r==="HeadInfo"){this.getOwnerComponent().getRouter().navTo("Routeinfo")}if(r==="HeadXOversigt"){this.getOwnerComponent().getRouter().navTo("Routexdocbestilling")}if(r==="HeadXProfil"){this.getOwnerComponent().getRouter().navTo("Routexdocprofil")}if(r==="HeadXSupport"){this.getOwnerComponent().getRouter().navTo("Routexdocsupport")}},_fetchUserData:function(){var e=this.getOwnerComponent().getModel();var t=this.getView().getModel("view");const o=this._getCurrentUserNo();const a=`/UserSet('${o}')`;if(!e){r.show("Error: OData model not available.");return}e.read(a,{urlParameters:{$format:"json"},success:function(e){t.setProperty("/UserInfo",{doctor:e.AdrName||"N/A",ydernr:e.Ydernr||"N/A",cvrnr:e.Cvr||"N/A",brugernr:e.UserNo||"N/A"});t.setProperty("/UserContact/address",{streetName:e.Street||"",streetNr:e.Housenum||"",postalCode:e.PostCode||"",city:e.City||""})}.bind(this),error:function(e){r.show("Failed to load user data.");console.error("OData Read failed:",e);t.setProperty("/UserInfo",{doctor:"Fejl ved indlæsning",ydernr:"",cvrnr:"",brugernr:""})}.bind(this)})},onCopyOrderItem:function(e){var t=e.getSource();var a=t.getBindingContext("ordersModel");if(!a){r.show("Fejl: Kunne ikke finde vareoplysninger.");return}var n=a.getObject();const s=this._getCurrentUserNo();var i=n.GuidMat;var d=n.Matnr;var l=String(n.OrderQuantity);var u={UserNo:s,GuidMat:i,OrderQuantity:l};var c=this.getOwnerComponent().getModel();var g="/BasketSet";c.create(g,u,{success:function(e){if(this._loadBasket){this._loadBasket(s)}r.show(n.Maktx+" ("+l+" stk) tilføjet til kurv")}.bind(this),error:function(e){var r="Fejl: Kunne ikke tilføje vare til kurven. Prøv venligst igen.";try{if(e&&e.responseText){var t=JSON.parse(e.responseText);if(t.error&&t.error.innererror&&t.error.innererror.errordetails&&t.error.innererror.errordetails.length>0){r=t.error.innererror.errordetails[0].message||r}else if(t.error&&t.error.message&&t.error.message.value){r=t.error.message.value}}else if(e&&e.message){r=e.message}}catch(e){console.error("Fejl ved parsing af OData fejl:",e)}o.error(r);console.error("BasketSet create error for item "+d+":",e)}.bind(this)})},onCopyOrder:async function(){var e=this.byId("orderItemsList");var r=e.getItems();var t=this;var o=[];var a=0;const n=this._getCurrentUserNo();if(r.length===0){sap.m.MessageToast.show("Ingen varer at kopiere.");return}sap.ui.core.BusyIndicator.show(0);for(const e of r){var s=e.getBindingContext("ordersModel");var i=s.getObject();var d={UserNo:n,GuidMat:i.GuidMat,OrderQuantity:String(i.OrderQuantity)};try{await this._createBasketItem(d,i.Maktx);a++}catch(e){o.push(e)}}sap.ui.core.BusyIndicator.hide();if(t._loadBasket){t._loadBasket(n)}if(o.length>0){var l=o.join(", \n");var u=`Følgende ${o.length} varer kunne IKKE tilføjes til kurven, da de ikke længere er tilgængelige:\n\n${l}`;sap.m.MessageBox.warning(u,{title:"Nogle varer er utilgængelige"})}if(a>0){sap.m.MessageToast.show(`${a} vare(r) fra ordren er tilføjet til kurven.`)}else if(o.length>0){sap.m.MessageToast.show("Ingen varer blev tilføjet til kurven.")}},_createBasketItem:function(e,r){var t=this.getOwnerComponent().getModel();var o="/BasketSet";return new Promise((a,n)=>{t.create(o,e,{success:function(e){a()},error:function(e){console.error(`Error adding item ${r} to basket:`,e);n(r)}})})},onBack:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Routemain")},onOpenBasket:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Routexdocvaresog")}})});
sap.ui.predefine("rm/webshop/test/controller/xdocprofil.controller", ["./BaseController","sap/m/MessageToast","sap/ui/model/json/JSONModel","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,o,r,i,s){"use strict";return e.extend("rm.webshop.test.controller.xdocprofil",{_oInitialUserData:{},onInit:function(){var e=sap.ui.require.toUrl("rm/webshop/test")+"/img/Logo.jpg";var t=new o({rmLogo:e,selectedTabKey:"HeadXProfil",UserInfo:{doctor:"",ydernr:"",cvrnr:"",brugernr:"",street:"",zip:"",city:"",phone:"",mail:"",favorite:""}});this.getView().setModel(t,"view");this.getView().setModel(new o({lists:[]}),"webshop");this._fetchUserData();this._fetchFavoriteLists();this.getOwnerComponent().getRouter().getRoute("Routexdocprofil").attachPatternMatched(this._onRouteMatched,this)},_getCurrentUserNo:function(){const e=this.getOwnerComponent().getModel("globalUser");return e?e.getProperty("/UserNo"):null},_fetchUserData:function(){const e=this._getCurrentUserNo();var o=this.getOwnerComponent().getModel();var r=this.getView().getModel("view");const i=`/UserSet('${e}')`;if(!o){t.show("Error: OData model not available.");return}o.read(i,{urlParameters:{$format:"json"},success:function(e){this._oInitialUserData=e;r.setProperty("/UserInfo",{doctor:e.AdrName||"N/A",ydernr:e.Ydernr||"N/A",cvrnr:e.Cvr||"N/A",brugernr:e.UserNo||"N/A",street:e.AdrStreet||"N/A",zip:e.AdrZip||"N/A",city:e.AdrCity||"N/A",phone:e.Phone||"Udfyld her",mail:e.EMail||"Udfyld her",favorite:e.FavoriteList})}.bind(this),error:function(e){t.show("Failed to load user data.");console.error("OData Read failed:",e)}.bind(this)})},_fetchFavoriteLists:function(){var e=this.getOwnerComponent().getModel();var o=this.getView().getModel("webshop");const r=this._getCurrentUserNo();const n={UserNo:r||"",FavoriteList:"Alle varer",GuidMat:"0"};if(!e){o.setProperty("/lists",[n]);return}const a=[new i("UserNo",s.EQ,r)];e.read("/FavoriteSet",{filters:a,urlParameters:{$format:"json"},success:function(e){let t=e.results||[];t.unshift(n);o.setProperty("/lists",t);console.log("Favorite lists loaded:",t)}.bind(this),error:function(e){t.show("Kunne ikke hente favoritlister. Viser kun 'Alle varer'.");o.setProperty("/lists",[n]);console.error("FavoriteSet read error:",e)}})},_onRouteMatched:function(e){var t=this.byId("idTopLevelTab");if(t){t.setSelectedKey("HeadXProfil")}},handleIconTabBarSelect:function(e){var t=e.getParameter("selectedKey");var o=this.getOwnerComponent().getRouter();this.getView().getModel("view").setProperty("/selectedTabKey",t);if(t==="HeadXProfil"){return}if(t==="HeadXSoegning"){o.navTo("Routexdocvaresog")}else if(t==="HeadInfo"){o.navTo("Routeinfo")}else if(t==="HeadXOversigt"){o.navTo("Routexdocbestilling")}else if(t==="HeadXSupport"){o.navTo("Routexdocsupport")}},onUpdateContactInfo:function(){var e=this.getView().getModel("view");var t=e.getProperty("/UserInfo");var o={Phone:t.phone,EMail:t.mail};this._updateUser(o,"Kontaktoplysninger")},onUpdateFavoriteList:function(){var e=this.getView().getModel("view");var t=e.getProperty("/UserInfo/favorite");if(t==="Alle varer"||!t){t=""}var o={FavoriteList:t};this._updateUser(o,"Favoritliste")},_updateUser:function(e,o){var r=this.getOwnerComponent().getModel();var i=this._oInitialUserData;const s=this._getCurrentUserNo();if(!r){t.show("Fejl: OData model ikke tilgængelig.");return}var n={UserNo:s,DelName:i.DelName,Phone:i.Phone,EMail:i.EMail,FavoriteList:i.FavoriteList,...e};r.create("/UserSet",n,{success:function(r,i){t.show(o+" opdateret succesfuldt!");if(e.Phone){this.getView().getModel("view").setProperty("/UserInfo/phone",e.Phone)}}.bind(this),error:function(e){t.show("Fejl ved opdatering af "+o.toLowerCase()+".");console.error("OData Create (Update) failed:",e)}})},onBack:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Routemain")},onOpenBasket:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Routexdocvaresog")}})});
sap.ui.predefine("rm/webshop/test/controller/xdocsupport.controller", ["./BaseController","sap/m/MessageToast","sap/ui/model/json/JSONModel","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,o,r,n,a){"use strict";return e.extend("rm.webshop.test.controller.xdocsupport",{onInit:function(){var e=sap.ui.require.toUrl("rm/webshop/test")+"/img/Logo.jpg";var t=new o({rmLogo:e,selectedTabKey:"HeadXSupport",UserInfo:{doctor:"",ydernr:"",cvrnr:"",brugernr:""}});this.getView().setModel(t,"view");this._fetchUserData();this.getOwnerComponent().getRouter().getRoute("Routexdocsupport").attachPatternMatched(this._onRouteMatched,this)},_getCurrentUserNo:function(){const e=this.getOwnerComponent().getModel("globalUser");return e?e.getProperty("/UserNo"):null},_fetchUserData:function(){var e=this.getOwnerComponent().getModel();var o=this.getView().getModel("view");const r=this._getCurrentUserNo();const n=`/UserSet('${r}')`;if(!e){t.show("Error: OData model not available.");return}e.read(n,{urlParameters:{$format:"json"},success:function(e){o.setProperty("/UserInfo",{doctor:e.AdrName||"N/A",ydernr:e.Ydernr||"N/A",cvrnr:e.Cvr||"N/A",brugernr:e.UserNo||"N/A"})}.bind(this),error:function(e){t.show("Failed to load user data.");console.error("OData Read failed:",e);o.setProperty("/UserInfo",{doctor:"Fejl: Kunne ikke hente data",ydernr:"",cvrnr:"",brugernr:""})}.bind(this)})},_onRouteMatched:function(e){var t=this.byId("idTopLevelTab");var o=this.getView().getModel("view");if(t){t.setSelectedKey("HeadXSupport");o.setProperty("/selectedTabKey","HeadXSupport")}},handleIconTabBarSelect:function(e){var t=e.getParameter("selectedKey");var o=this.getView().getModel("view");o.setProperty("/selectedTabKey",t);if(t==="HeadXSoegning"){this.getOwnerComponent().getRouter().navTo("Routexdocvaresog")}if(t==="HeadInfo"){this.getOwnerComponent().getRouter().navTo("Routeinfo")}if(t==="HeadXOversigt"){this.getOwnerComponent().getRouter().navTo("Routexdocbestilling")}if(t==="HeadXProfil"){this.getOwnerComponent().getRouter().navTo("Routexdocprofil")}if(t==="HeadXSupport"){this.getOwnerComponent().getRouter().navTo("Routexdocsupport")}},onBack:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Routemain")},onOpenBasket:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Routexdocvaresog")}})});
sap.ui.predefine("rm/webshop/test/controller/xdocvaresog.controller", ["./BaseController","sap/m/MessageToast","sap/ui/model/json/JSONModel","sap/ui/core/Fragment","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/model/FilterOperator","./Formatter"],function(e,t,r,o,i,s,n,a){"use strict";return e.extend("rm.webshop.test.controller.xdocvaresog",{_oOrderDialog:null,_oFinalConfirmationDialog:null,_oOrderSentDialog:null,formatter:a,onInit:function(){var e=sap.ui.require.toUrl("rm/webshop/test")+"/img/Logo.jpg";var t=new r({rmLogo:e,basket:[],selectedAddressOption:0,selectedTabKey:"HeadXSoegning",selectedList:"Alle varer",UserInfo:{doctor:"",ydernr:"",cvrnr:"",brugernr:""}});this.getView().setModel(t,"view");var o=new r({orders:[],lists:[]});this.getView().setModel(o,"webshop");this._fetchInitFav();this._fetchUserData();this._fetchFavoriteLists();this.getOwnerComponent().getRouter().getRoute("Routexdocvaresog").attachPatternMatched(this._onRouteMatched,this)},_getCurrentUserNo:function(){const e=this.getOwnerComponent().getModel("globalUser");return e?e.getProperty("/UserNo"):null},_fetchFavoriteLists:function(){var e=this.getOwnerComponent().getModel();var r=this.getView().getModel("webshop");const o=this._getCurrentUserNo();const i={UserNo:o||"",FavoriteList:"Alle varer",GuidMat:"0"};if(!e){r.setProperty("/lists",[i]);return}const a=[new s("UserNo",n.EQ,o)];e.read("/FavoriteSet",{filters:a,urlParameters:{$format:"json"},success:function(e){let t=e.results||[];t.unshift(i);r.setProperty("/lists",t)}.bind(this),error:function(e){t.show("Fejl i load af favoritliste.");r.setProperty("/lists",[i]);console.error("OData læs favoritliste fejl:",e)}})},_onRouteMatched:function(e){var t=this.byId("idTopLevelTab");if(t){t.setSelectedKey("HeadXSoegning")}var r=this.getView().getModel("view");var o=this;const i=this._getCurrentUserNo();var s=function(){var e=r.getProperty("/selectedList");if(e){o._loadBasket(i)}else{setTimeout(s,100)}};s();this._fetchInitFav();this._fetchUserData();this._fetchFavoriteLists()},_getFavoriteListDialog:function(){if(!this._oFavoriteListDialog){this._oFavoriteListDialog=o.load({id:this.getView().getId(),name:"rm.webshop.test.view.fragment.FavoriteListDialog",controller:this}).then(function(e){this.getView().addDependent(e);return e}.bind(this))}return this._oFavoriteListDialog},onAddToFavoriteList:function(e){const t=e.getSource().getBindingContext("view");const r=t.getObject();this.getView().getModel("webshop").setProperty("/materialToAdd",r);this.getView().getModel("webshop").setProperty("/newListName","");this._getFavoriteListDialog().then(function(e){this.byId("listSelectContainer").setVisible(true);this.byId("newListInputContainer").setVisible(false);this.byId("saveListButton").setText(this.getResourceBundle().getText("selectListSave"));e.open()}.bind(this))},onCreateNewList:function(){this.byId("listSelectContainer").setVisible(false);this.byId("newListInputContainer").setVisible(true);this.byId("saveListButton").setText(this.getResourceBundle().getText("createListSave"))},onSaveFavoriteList:function(e){const r=this.getView().getModel("webshop");const o=this.getView().getModel("view");const s=r.getProperty("/materialToAdd");const n=this.getOwnerComponent().getModel();const a=this._getCurrentUserNo();let l;if(this.byId("newListInputContainer").getVisible()){l=r.getProperty("/newListName").trim();if(!l){t.show(this.getResourceBundle().getText("listNameRequired"));return}}else{const e=this.byId("favoriteListDialogSelect").getSelectedItem();if(!e){t.show(this.getResourceBundle().getText("listSelectionRequired"));return}l=e.getText()}const d={UserNo:a,FavoriteList:l,GuidMat:s.GuidMat};n.create("/FavoriteSet",d,{success:function(e){t.show(this.getResourceBundle().getText("favoriteAddSuccess",[l]));this.byId("favoriteListDialog").close();const r=o.getProperty("/selectedList");if(this.byId("newListInputContainer").getVisible()){this._fetchFavoriteLists()}if(l===r||r==="Alle varer"){this._loadCatalogSet(a,r)}}.bind(this),error:function(e){i.error(this.getResourceBundle().getText("Fejl ved tilføjelse af favoritliste",[l]));console.error("Oprettelse af favoritliste er fejlet:",e)}.bind(this)})},onCloseFavoriteListDialog:function(){this.byId("favoriteListDialog").close()},_getRemoveFromListDialog:function(){if(!this._oRemoveFromListDialog){this._oRemoveFromListDialog=sap.ui.core.Fragment.load({id:this.getView().getId(),name:"rm.webshop.test.view.fragment.RemoveFromFavoriteListDialog",controller:this}).then(function(e){this.getView().addDependent(e);return e}.bind(this))}return this._oRemoveFromListDialog},onRemoveFromFavoriteList:function(e){const t=e.getSource().getBindingContext("view");const r=t.getObject();this.getView().getModel("webshop").setProperty("/materialToRemove",r);const o=r.IncludedInFavorites||"";const i=o.split(",").map(e=>e.trim()).filter(e=>e&&e!=="Alle varer");const s=this.getView().getModel("webshop").getProperty("/lists").filter(e=>e.FavoriteList!=="Alle varer");const n=s.filter(e=>i.includes(e.FavoriteList));this.getView().getModel("webshop").setProperty("/removableLists",n);this._getRemoveFromListDialog().then(function(e){this.byId("favoriteListDialogSelectRemove").setSelectedKey(null);e.open()}.bind(this))},onConfirmRemoveFavorite:function(){const e=this.getView().getModel("webshop");const t=this.getView().getModel("view");const r=this.getOwnerComponent().getModel();const o=this._getCurrentUserNo();const i=e.getProperty("/materialToRemove");const s=this.byId("favoriteListDialogSelectRemove");const n=s.getSelectedKey();if(!n){sap.m.MessageToast.show(this.getResourceBundle().getText("listSelectionRequired"));return}const a=r.createKey("/FavoriteSet",{UserNo:o,FavoriteList:n,GuidMat:i.GuidMat});r.remove(a,{success:function(e){sap.m.MessageToast.show(this.getResourceBundle().getText("Varen blev fjernet"));this.byId("favoriteListDialogRemove").close();const r=t.getProperty("/selectedList");if(n===r||r==="Alle varer"){this._loadCatalogSet(o,r)}}.bind(this),error:function(e){sap.m.MessageBox.error(this.getResourceBundle().getText("Varen blev ikke fjernet fra favoritlisten. Prøv igen."));console.error("FavoriteSet Delete er fejlet:",e)}.bind(this)})},onCloseRemoveFromListDialog:function(){this.byId("favoriteListDialogRemove").close()},_loadBasket:function(e){var t=this.getOwnerComponent().getModel();var r=this.getView().getModel("view");var o=[new(s||sap.ui.model.Filter)("UserNo",(n||sap.ui.model.FilterOperator).EQ,e)];t.read("/BasketSet",{filters:o,success:function(e){r.setProperty("/shoppingcart",e.results);console.log("BasketSet loaded:",e.results)},error:function(e){sap.m.MessageBox.error("Fejl ved load af varekurv data. Genindlæs siden.");console.error("BasketSet read error",e)}})},onFilterMaterialsByList:function(e){const t=this._getCurrentUserNo();var r=this.getView().getModel("view").getProperty("/selectedList");this._loadCatalogSet(t,r)},_loadCatalogSet:function(e,t){var r=this.getOwnerComponent().getModel();var o=this.getView().getModel("view");var i=sap.ui.model.Filter;var s=sap.ui.model.FilterOperator;var n=[new i("UserNo",s.EQ,e)];if(t&&t!=="Alle varer"&&t!==""){n.push(new i("FavoriteList",s.EQ,t))}sap.ui.core.BusyIndicator.show(0);r.read("/CatalogSet",{filters:n,urlParameters:{$expand:"CatalogAttributeSet",$format:"json"},success:function(e,r){sap.ui.core.BusyIndicator.hide();o.setProperty("/catalog",e.results);var i=this.byId("searchField");if(i&&i.getValue()!==""){i.setValue("");var s=this.getView().byId("catalogList");s.getBinding("items").filter([])}console.log("CatalogSet loaded successfully for list:",t||"Alle varer")}.bind(this),error:function(e){sap.ui.core.BusyIndicator.hide();sap.m.MessageBox.error("Fejl ved load af katalogdata: "+(t||"Alle varer"));console.error("CatalogSet read error",e)}.bind(this)})},handleIconTabBarSelect:function(e){var t=e.getParameter("selectedKey");var r=this.getView().getModel("view");r.setProperty("/selectedTabKey",t);if(t==="HeadXSoegning"){this.getOwnerComponent().getRouter().navTo("Routexdocvaresog")}if(t==="HeadInfo"){this.getOwnerComponent().getRouter().navTo("Routeinfo")}if(t==="HeadXOversigt"){this.getOwnerComponent().getRouter().navTo("Routexdocbestilling")}if(t==="HeadXProfil"){this.getOwnerComponent().getRouter().navTo("Routexdocprofil")}if(t==="HeadXSupport"){this.getOwnerComponent().getRouter().navTo("Routexdocsupport")}},onSearchMaterials:function(e){var t=e.getParameter("newValue");var r=[];if(t){var o=new sap.ui.model.Filter("Matnr",sap.ui.model.FilterOperator.Contains,t);var i=new sap.ui.model.Filter("Maktx",sap.ui.model.FilterOperator.Contains,t);var s=new sap.ui.model.Filter("MaktxLong",sap.ui.model.FilterOperator.Contains,t);var n=new sap.ui.model.Filter("Levmat",sap.ui.model.FilterOperator.Contains,t);var a=new sap.ui.model.Filter("KeywordSearch",sap.ui.model.FilterOperator.Contains,t);var l=new sap.ui.model.Filter({filters:[o,i,s,n,a],and:false});r.push(l)}var d=this.getView().byId("catalogList");var g=d.getBinding("items");g.filter(r)},onAddToCart:function(e){var r=e.getSource();var o=r.getBindingContext("view");var s=o.getObject();const n=this._getCurrentUserNo();var a=s.GuidMat;var l=s.Matnr;var d={UserNo:n,GuidMat:s.GuidMat,OrderQuantity:s.Multiplum};var g=this.getOwnerComponent().getModel();var c="/BasketSet";g.create(c,d,{success:function(e){this._loadBasket(n);t.show(e.Maktx+" tilføjet til kurv")}.bind(this),error:function(e){var t="Fejl ved tilføjelse til kurv. Prøv igen";try{if(e&&e.responseText){var r=JSON.parse(e.responseText);if(r.error&&r.error.message&&r.error.message.value){t=r.error.message.value}else if(r.error&&r.error.innererror&&r.error.innererror.errordetails&&r.error.innererror.errordetails.length>0){t=r.error.innererror.errordetails[0].message||t}}else if(e&&e.message){t=e.message}}catch(e){console.error("Fejl ved parsing af OData fejl:",e)}i.error(t);console.error("Varekurv fejl:",e)}})},onDecreaseQuantity:function(e){var r=e.getSource();var o=r.getBindingContext("view");var s=o.getObject();const n=this._getCurrentUserNo();var a=s.GuidMat;var l=s.Matnr;var d=s.Multiplum;var g="-"+d.toString();var c={UserNo:n,GuidMat:s.GuidMat,OrderQuantity:g};var u=this.getOwnerComponent().getModel();var v="/BasketSet";u.create(v,c,{success:function(e){this._loadBasket(n);t.show(s.Maktx+" fjernet fra kurv")}.bind(this),error:function(e){i.error("Der skete en fejl ved opdatering af varekurven.");console.error("Varekurv fejl:",e)}})},onRemoveFromCart:function(e){var r=e.getSource();var o=r.getBindingContext("view");var s=o.getObject();const n=this._getCurrentUserNo();var a=s.Matnr;var l=parseInt(s.OrderQuantity,10);var d="-"+l.toString();if(l<=0||isNaN(l)){t.show("Kurven er tom");return}var g={UserNo:n,GuidMat:s.GuidMat,OrderQuantity:d};var c=this.getOwnerComponent().getModel();var u="/BasketSet";c.create(u,g,{success:function(e){this._loadBasket(n);t.show(s.Maktx+" fjernet fra kurv")}.bind(this),error:function(e){i.error("Fejl ved fjernelse af vare fra kurv. Prøv venligst igen.");console.error("BasketSet create error:",e)}})},onOrder:function(){var e=this.getView().getModel("view").getProperty("/shoppingcart")||[];var r=e.reduce(function(e,t){return e+parseInt(t.OrderQuantity,10)},0);if(r===0){t.show("Kurven er tom.");return}if(!this._oOrderDialog){o.load({id:this.getView().getId(),name:"rm.webshop.test.view.fragment.OrderDialog",controller:this}).then(function(e){this._oOrderDialog=e;this.getView().addDependent(e);this._setupOrderDialog(r)}.bind(this))}else{this._setupOrderDialog(r)}},_setupOrderDialog:function(e){var t=this.getView().getModel("view");var o=t.getProperty("/UserContact")||{email:"",phone:"",address:{}};var i=new r({alternativeAddress:{streetName:"",streetNr:"",postalCode:"",city:""},contactInfo:{email:o.email,phone:o.phone},registeredAddress:o.address,totalItems:e,selectedAddressOption:0,chosenAddress:null});this._oOrderDialog.setModel(i,"orderDialog");this._oOrderDialog.open()},onConfirmOrder:function(){var e=sap.m.MessageBox;var t=this._oOrderDialog.getModel("orderDialog");var r=t.getData();var o;var i=r.selectedAddressOption;var s=this.getOwnerComponent().getModel("webshop");if(i===0){var n=this.getView().getModel("view");var a=n.getProperty("/UserContact/address");if(!a||!a.streetName){e.error("Der mangler registreret adresseinformation for brugeren.");return}o=a.streetName+" "+a.streetNr+", "+a.postalCode+" "+a.city}else{var l=r.alternativeAddress;if(!l.streetName||!l.streetNr||!l.postalCode||!l.city){e.error("Udfyld venligst alle felter for den alternative adresse.");return}o=l.streetName+" "+l.streetNr+", "+l.postalCode+" "+l.city}var d=this.byId("emailInput");var g=d?d.getValue():"";g=g.trim();if(!g){e.error("Udfyld venligst email-adressen for kontaktinformation.");return}r.contactInfo.email=g;var c=this.byId("phoneInput");var u=c.getValue()||"";var v=u.replace(/[^0-9]/g,"");if(v.length>0){if(v.length!==8){e.error("Telefonnummeret skal bestå af præcis 8 cifre (uden landekode), hvis det udfyldes.");return}var h=v;r.contactInfo.phone=h}else{r.contactInfo.phone=null}r.chosenAddress=o;t.setData(r);this._openFinalConfirmationDialog()},onCancelOrder:function(){this._oOrderDialog.close()},_openFinalConfirmationDialog:function(){if(!this._oFinalConfirmationDialog){o.load({id:this.getView().getId(),name:"rm.webshop.test.view.fragment.FinalConfirmationDialog",controller:this}).then(function(e){this._oFinalConfirmationDialog=e;this.getView().addDependent(e);this._setupFinalConfirmationDialog()}.bind(this))}else{this._setupFinalConfirmationDialog()}},_setupFinalConfirmationDialog:function(){var e=this._oOrderDialog.getModel("orderDialog").getData();this.byId("finalAddressText").setText(e.chosenAddress);this.byId("finalEmailText").setText("Email: "+e.contactInfo.email);this.byId("finalPhoneText").setText("Telefon: "+e.contactInfo.phone);this.byId("finalConfirmationText").setText(this.getResourceBundle().getText("Bekræft venligst din bestilling.")||"Bekræft venligst din bestilling.");this._oFinalConfirmationDialog.open()},onFinalOrder:function(){this._oFinalConfirmationDialog.close();this._openOrderSentDialog()},onFinalCancel:function(){this._oFinalConfirmationDialog.close()},_openOrderSentDialog:function(){if(!this._oOrderSentDialog){o.load({id:this.getView().getId(),name:"rm.webshop.test.view.fragment.OrderSentDialog",controller:this}).then(function(e){this._oOrderSentDialog=e;this.getView().addDependent(e);this._setupOrderSentDialog()}.bind(this))}else{this._setupOrderSentDialog()}},_setupOrderSentDialog:function(){var e=this._oOrderDialog.getModel("orderDialog");var t=e.getProperty("/contactInfo/email");var r=this.getResourceBundle().getText("orderSentConfirmation",[t]);var o=this.byId("orderSentText");if(o){o.setText(r)}this._oOrderSentDialog.open()},onOrderSentConfirm:function(){this._oOrderSentDialog.close();this._processFinalOrder()},_processFinalOrder:function(){var e=this;var t=this._oOrderDialog.getModel("orderDialog");var r=t.getData();var o=this.getOwnerComponent().getModel();var s=this.getView().getModel("view");const n=this._getCurrentUserNo();var a=r.chosenAddress||"";var l=a.split(",");var d=l[0]?l[0].trim():"";var g=l[1]?l[1].trim():"";var c=d;var u=g.split(" ");var v=u[0]||"";var h=u.slice(1).join(" ")||"";var f=s.getProperty("/UserContact")||{};var p={UserNo:n,Name:s.getProperty("/UserInfo/doctor")||"",Name2:"",Street:c||f.address.streetName+" "+f.address.streetNr,Zip:v||f.address.postalCode,City:h||f.address.city,Att:"",Phone:r.contactInfo.phone||f.phone,EMail:r.contactInfo.email||f.email};o.create("/OrderHeaderSet",p,{success:function(t,r){var o=t.OrderNumber||"Ukendt";i.success("Ordren "+o+" er afsendt.");e._oOrderDialog.close();e._loadBasket(n);e.getOwnerComponent().getRouter().navTo("Routexdocbestilling")},error:function(e){i.error("Fejl ved afsendelse af ordre. Prøv igen.");console.error("OrderHeaderSet CREATE error:",e)}})},_fetchUserData:function(){var e=this.getOwnerComponent().getModel();var r=this.getView().getModel("view");const o=this._getCurrentUserNo();const i=`/UserSet('${o}')`;if(!e){t.show("Error: OData model not available.");return}e.read(i,{urlParameters:{$format:"json"},success:function(e){r.setProperty("/UserInfo",{doctor:e.AdrName||"N/A",ydernr:e.Ydernr||"N/A",cvrnr:e.Cvr||"N/A",brugernr:e.UserNo||"N/A"});r.setProperty("/UserContact",{email:e.EMail||"",phone:e.Phone||"",address:{streetName:e.AdrStreet||"",streetNr:e.AdrHouseNo||"",postalCode:e.AdrZip||"",city:e.AdrCity||""}})}.bind(this),error:function(e){t.show("Failed to load user data.");console.error("OData Read failed:",e);r.setProperty("/UserInfo",{doctor:"Fejl: Kunne ikke hente data",ydernr:"",cvrnr:"",brugernr:""})}.bind(this)})},_fetchInitFav:function(){var e=this.getOwnerComponent().getModel();var r=this.getView().getModel("view");const o=this._getCurrentUserNo();const i=`/UserSet('${o}')`;if(!e){t.show("Error: OData model not available.");return}e.read(i,{urlParameters:{$format:"json"},success:function(e){const t=e.FavoriteList||"Alle varer";r.setProperty("/selectedList",t);this._loadCatalogSet(o,t)}.bind(this),error:function(){t.show("Fejl i søgning efter favoritliste ved start")}.bind(this)})},onBack(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Routemain")}})});
sap.ui.predefine("rm/webshop/test/model/models", ["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
sap.ui.require.preload({
	"rm/webshop/test/i18n/i18n.properties":'# This is the resource bundle for dk.rm.webshop.rmwebshop\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=RM Webshop\n\n#YDES: Application description\nappDescription=RM Webshop\n#XTIT: Main view title\ntitle=RM Webshop\n\n\n##############\n# Login view #\n##############\n\ntitle2=Info\nlogin = Log p\\u00e5\nloginmitid=Log p\\u00e5 med MitID\nloginbruger=Log p\\u00e5 med bruger/adgangskode\nloginbrugernr=Brugernr.\nloginpw=Password\nlogon=Log p\\u00e5\nforgotpw=Glemt adgangskode\n\n##############\n# Info view #\n##############\n\nleveringsinformation=Leveringsinformation\nnyhederOgInformation=Nyheder og information\n\n################\n# Varesog view #\n################\n\ninfo=Info\nsearch=Vares\\u00f8gning\ncart=Varekurv\norderOverview=Bestillingsoversigt\nprofile=Profil\ndecreaseQuantity=-\nincreaseQuantity=+\nremoveFromCart=Fjern fra kurv\norder=Bestil\nproducts=Varer\nsearchPlaceholder=S\\u00f8g efter varer\nfavoriteList=Indg\\u00e5r i favoritlister\naddToCart=Tilf\\u00f8j til kurv\norderConfirmation=Bekr\\u00e6ft leverings- og kontaktinformation for bestilling af {0} varer.\norderSentConfirmation=Ordren er nu afsendt, og du vil modtage en bekr\\u00e6ftigelse p\\u00e5 mail {0}.\n\n# Dialog Title\naddToFavoriteListTitle=Tilf\\u00f8j til favoritliste\nremoveFromFavoriteListTitle=Fjern fra favoritliste\n\n# Labels and Placeholders\nselectExistingList=V\\u00e6lg en eksisterende favoritliste\ncreateNewListLink=Opret en ny favoritliste\nnewListNameLabel=Navngiv ny favoritliste\nnewListNamePlaceholder=Indtast navn\n\n# Buttons\nselectListSave=Tilf\\u00f8j til selekteret favoritliste \ncreateListSave=Opret og tilf\\u00f8j\ncancel=Fortryd\nselectListToRemoveFrom=V\\u00e6lg favoritliste\nremoveListConfirm=Bekr\\u00e6ft fjernelse\n\n# Messages (Add to your existing message keys)\nlistNameRequired=Venligst indtast et navn for den nye favoritliste.\nlistSelectionRequired=V\\u00e6lg venligst en eksisterende favoritliste\nfavoriteAddSuccess=Materialer tilf\\u00f8jet til listen: {0}\nfavoriteAddError=Der opstod en fejl ved tilf\\u00f8jelse til favoritliste. Pr\\u00f8v venligst igen.',
	"rm/webshop/test/manifest.json":'{"_version":"1.60.0","sap.app":{"id":"rm.webshop.test","type":"application","i18n":{"bundleUrl":"i18n/i18n.properties","supportedLocales":[""]},"applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.19.1","toolsId":"bf064ae6-0add-412c-8d6a-92052b70ec55"},"dataSources":{"mainService":{"uri":"/sap/opu/odata/sap/ZWEBSHOP_SRV/","type":"OData","settings":{"annotations":[],"localUri":"localService/mainService/metadata.xml","odataVersion":"2.0"}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.120.30","libs":{"sap.m":{},"sap.f":{},"sap.uxap":{},"sap.ui.layout":{},"sap.ui.core":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"rm.webshop.test.i18n.i18n","supportedLocales":[""]}},"":{"dataSource":"mainService","preload":true,"settings":{}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","controlAggregation":"pages","controlId":"app","transition":"slide","type":"View","viewType":"XML","path":"rm.webshop.test.view","async":true,"viewPath":"rm.webshop.test.view"},"routes":[{"name":"Routemain","pattern":":?query:","target":["Targetmain"]},{"pattern":"vaelgklinik","name":"Routevaelgklinik","target":["Targetvaelgklinik"]},{"name":"Routevaresog","pattern":"varesog","target":["Targetvaresog"]},{"name":"Routebestilling","pattern":"bestilling","target":["Targetbestilling"]},{"name":"Routeprofil","pattern":"profil","target":["Targetprofil"]},{"name":"Routesupport","pattern":"support","target":["Targetsupport"]},{"name":"Routeinfo","pattern":"info","target":["Targetinfo"]},{"name":"Routexdocvaresog","pattern":"xdocvaresog","target":["Targetxdocvaresog"]},{"name":"Routexdocbestilling","pattern":"xdocbestilling","target":["Targetxdocbestilling"]},{"name":"Routexdocprofil","pattern":"xdocprofil","target":["Targetxdocprofil"]},{"name":"Routexdocsupport","pattern":"xdocsupport","target":["Targetxdocsupport"]}],"targets":{"Targetmain":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"main","viewName":"main"},"Targetvaresog":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"varesog","viewName":"varesog"},"Targetbestilling":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"bestilling","viewName":"bestilling"},"Targetprofil":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"profil","viewName":"profil"},"Targetsupport":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"support","viewName":"support"},"Targetinfo":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"info","viewName":"info"},"Targetxdocvaresog":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"xdocvaresog","viewName":"xdocvaresog"},"Targetxdocbestilling":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"xdocbestilling","viewName":"xdocbestilling"},"Targetxdocprofil":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"xdocprofil","viewName":"xdocprofil"},"Targetxdocsupport":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"xdocsupport","viewName":"xdocsupport"},"Targetvaelgklinik":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"vaelgklinik","viewName":"vaelgklinik"}}},"rootView":{"viewName":"rm.webshop.test.view.App","type":"XML","id":"App","async":true}}}',
	"rm/webshop/test/view/App.view.xml":'<mvc:View controllerName="rm.webshop.test.controller.App"\n    displayBlock="true"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><App id="app"></App></mvc:View>',
	"rm/webshop/test/view/bestilling.view.xml":'<mvc:View controllerName="rm.webshop.test.controller.bestilling"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:u="sap.uxap"\n    xmlns:layout="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"><u:ObjectPageHeaderContent id="BestillingViewObjHeader"><u:content><Image id="BestillingViewImageLogo"\n                src="{\n                    path: \'view>/rmLogo\'\n                }"\n                width="18%" height="10%"/><Image id="BestillingViewImageToAddSpace"\n                src="{\n                    path: \'view>/123\'\n                }"\n                width="40%" height="5%"/><layout:VerticalLayout id="ProfilViewUserInfoHeader"><Text text="Navn: {view>/UserInfo/navn}" class="smallText" id="doctor"/><Text text="Adresse: {view>/UserInfo/adresse}, {view>/UserInfo/zip} {view>/UserInfo/by}" class="smallText" id="ydernr"/><Text text="Telefon: {view>/UserInfo/tlfnr}" class="smallText" id="cvrnr"/><Text text="Bruger nr: {view>/UserInfo/brugernr}" class="smallText" id="bruger"/><Text text="Afdeling: {view>/UserInfo/afdeling}" class="smallText" id="afd"/></layout:VerticalLayout><layout:VerticalLayout id="hi"><Button text="Log af" press=".onBack"></Button><Button\n                    icon="sap-icon://cart"\n                    press=".onOpenBasket"\n                    tooltip="Vis kurv"></Button></layout:VerticalLayout></u:content></u:ObjectPageHeaderContent><Page id="page"><content><IconTabBar id="idTopLevelTab" select=".handleIconTabBarSelect"><items><IconTabFilter text="Varesøgning/Varekurv" id="HeadSoegning" key="HeadSoegning"/><IconTabFilter text="Bestillingsoversigt" id="HeadOversigt" key="HeadOversigt"/><IconTabFilter text="Profil" id="HeadProfil" key="HeadProfil"/><IconTabFilter text="Hjælp" id="HeadSupport" key="HeadSupport"/></items></IconTabBar><layout:Splitter id="BestillingViewLayout" orientation="Horizontal" height="70%"><layout:contentAreas><Page id="BestillingdetailPage" title="Ordrehistorik"\n                          layoutData="{layout:SplitterLayoutData, resizable: true, size: \'50%\'}"><content><VBox class="sapUiTinyMargin"><CheckBox \n                                        text="Vis også lukkede ordrer"\n                                        id="showClosedOrdersCheckbox"\n                                        selected="false"\n                                        select=".onShowClosedOrdersToggle" /><List id="orderList" items="{path: \'ordersModel>/orders\'}" mode="SingleSelectMaster" selectionChange="onOrderSelect"><CustomListItem><VBox class="sapUiSmallMarginBegin sapUiSmallMarginTop"><HBox justifyContent="SpaceBetween"><Text text="Ordrenr: {ordersModel>OrderNo}" /><Text text="Status: {ordersModel>HeaderStatusText}" tooltip="Beskrivelse her"/></HBox><Text text="Ordre afgivet d. {ordersModel>OrderDateEdit} kl. {ordersModel>OrderTimeEdit}" /></VBox></CustomListItem></List></VBox></content></Page><Page \n                        id="BestillingDetailPage"\n                        title="Ordre Detaljer"><Button text="Tilføj kopi af ordre til kurv" press="onCopyOrder"></Button><List\n                            id="orderItemsList"\n                            noDataText="Ingen varer fundet for denne ordre"><CustomListItem><HBox fitContainer="true" alignItems="Center" justifyContent="SpaceBetween" class="sapUiTinyMargin"><VBox class="sapUiTinyMarginEnd fixedImageCol"><Image\n                                        src="{ path: \'ordersModel>PictureUrl\', formatter: \'.formatter.pictureUrl\' }"\n                                        width="60px" height="60px"\n                                        class="sapUiSmallMarginBottom"/></VBox><VBox class="sapUiSmallMarginEnd middleCol"><Text text="{ordersModel>Maktx}" maxLines="2" wrapping="true" class="sapMObjectListItemTitle"/><Text text="Varenr: {ordersModel>Matnr}" class="sapMObjectListItemIntro"/><Text text="Leverandør varenr: {ordersModel>Levmat}" class="sapMObjectListItemIntro"/><Text text="Generel status: {ordersModel>ItemStatusText}" class="sapMObjectListItemIntro"/><Text text="Forventet levering: {ordersModel>ExpectDelivDateEdit}" class="sapMObjectListItemIntro"/><VBox items="{ordersModel>TrackTraces}"><HBox class="sapUiSmallMarginBegin sapUiTinyMarginTop" alignItems="Center"><items><HBox width="190px"><Text text=" • {ordersModel>CreateDateEdit} {ordersModel>TtStatusText} {ordersModel>OrderQuantity} {ordersModel>OrderUnit}" /></HBox><Text text=" | " class="sapUiTinyMarginBeginEnd" /><Link text="Track &amp; Trace"\n                                                    href="{ordersModel>UrlTrackTrace}"\n                                                    target="_blank"\n                                                    class="sapMObjectListItemIntro"/></items></HBox></VBox></VBox><VBox class="fixedRightCol"><Text text="{ordersModel>OrderUnitEdit}" class="sapMObjectListItemIntro"/><ObjectStatus title="Antal" text="{ordersModel>OrderQuantity}" state="Success"/><Button text="Tilføj vare til kurv" press="onCopyOrderItem"/></VBox></HBox></CustomListItem></List></Page></layout:contentAreas></layout:Splitter></content></Page></mvc:View>',
	"rm/webshop/test/view/fragment/FavoriteListDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"><Dialog\n        id="favoriteListDialog"\n        title="{i18n>addToFavoriteListTitle}"\n        resizable="false"\n        draggable="true"\n        contentWidth="25rem"\n        afterClose=".onCloseFavoriteListDialog"><content><VBox class="sapUiSmallMargin"><VBox id="listSelectContainer"><Label text="{i18n>selectExistingList}" class="sapUiSmallMarginBottom" /><Select\n                        id="favoriteListDialogSelect"\n                        width="100%"\n                        items="{\n                            path: \'webshop>/lists\',\n                            filters: [\n                                { path: \'FavoriteList\', operator: \'NE\', value1: \'Alle varer\' }\n                            ]\n                        }"><core:Item key="{webshop>FavoriteList}" text="{webshop>FavoriteList}" /></Select><Link text="{i18n>createNewListLink}" class="sapUiTinyMarginTop" press=".onCreateNewList" /></VBox><VBox id="newListInputContainer" visible="false"><Label text="{i18n>newListNameLabel}" class="sapUiSmallMarginBottom" /><Input\n                        id="newListNameInput"\n                        placeholder="{i18n>newListNamePlaceholder}"\n                        value="{webshop>/newListName}" /></VBox></VBox></content><buttons><Button\n                id="saveListButton"\n                text="{i18n>selectListSave}"\n                type="Accept"\n                press=".onSaveFavoriteList" /><Button\n                text="{i18n>cancel}"\n                press=".onCloseFavoriteListDialog" /></buttons></Dialog></core:FragmentDefinition>',
	"rm/webshop/test/view/fragment/FinalConfirmationDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"><Dialog\n        id="finalConfirmationDialog"\n        title="Bekræft bestilling"><content><VBox class="sapUiContentPadding"><Text id="finalConfirmationText" class="sapUiSmallMarginBottom" /><Title level="H3" text="Leveringsadresse" /><Text id="finalAddressText" class="sapUiSmallMarginBottom" /><Title level="H3" text="Kontaktinformation" class="sapUiSmallMarginTop" /><Text id="finalEmailText" /><Text id="finalPhoneText" /></VBox></content><buttons><Button text="Bestil" press="onFinalOrder" type="Emphasized" /><Button text="Annuller" press="onFinalCancel" /></buttons></Dialog></core:FragmentDefinition>',
	"rm/webshop/test/view/fragment/OrderDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:f="sap.ui.layout.form"\n    xmlns:layout="sap.ui.layout"><Dialog\n        id="orderConfirmationDialog"\n        title="Bekræft bestilling"><content><VBox class="sapUiContentPadding"><Text\n                    id="orderConfirmationText"\n                    class="sapUiSmallMarginBottom" /><Title\n                    level="H3"\n                    text="Vælg leveringsadresse"\n                    class="sapUiSmallMarginTop" /><RadioButtonGroup \n                    columns="2" \n                    selectedIndex="{orderDialog>/selectedAddressOption}" \n                    select="onAddressOptionSelect"><buttons><RadioButton id="radioExisting" text="Registreret adresse" /><RadioButton id="radioNew" text="Alternativ adresse" /></buttons></RadioButtonGroup><Title\n                    level="H3"\n                    text="Din registrerede adresse"\n                    class="sapUiSmallMarginTop" \n                    visible="{= ${orderDialog>/selectedAddressOption} === 0}"/><Text\n                    id="orderAddressText"\n                    visible="{= ${orderDialog>/selectedAddressOption} === 0}"\n                    text="{orderDialog>/registeredAddress/streetName} {orderDialog>/registeredAddress/streetNr}, {orderDialog>/registeredAddress/postalCode} {orderDialog>/registeredAddress/city}" /><Title\n                    level="H3"\n                    text="Alternativ leveringsadresse"\n                    class="sapUiSmallMarginTop" \n                    visible="{= ${orderDialog>/selectedAddressOption} === 1}"/><f:SimpleForm\n                    id="alternativeAddressForm"\n                    editable="true"\n                    layout="ResponsiveGridLayout"\n                    visible="{= ${orderDialog>/selectedAddressOption} === 1}"><f:content><Label text="Vejnavn" /><Input id="alternativeStreetInput" value="{orderDialog>/alternativeAddress/streetName}" /><Label text="Husnummer" /><Input id="alternativeStreetNrInput" value="{orderDialog>/alternativeAddress/streetNr}" /><Label text="Postnummer" /><Input id="alternativePostalCodeInput" value="{orderDialog>/alternativeAddress/postalCode}" /><Label text="By" /><Input id="alternativeCityInput" value="{orderDialog>/alternativeAddress/city}" /></f:content></f:SimpleForm><Title\n                    level="H3"\n                    text="Kontaktinformation"\n                    class="sapUiSmallMarginTop" /><Label text="Email:" /><Input id="emailInput" value="{orderDialog>/contactInfo/email}"/><Label text="Telefonnummer:" class="sapUiSmallMarginTop" /><HBox><Input value="+45" width="4em" editable="false" textAlign="Center" class="sapUiTinyMarginEnd" \n                                        id="phonePrefixProfil"/><Input id="phoneInput" value="{orderDialog>/contactInfo/phone}" width="21em"/></HBox></VBox></content><buttons><Button text="Bestil" press="onConfirmOrder" type="Emphasized" /><Button text="Annuller" press="onCancelOrder" /></buttons></Dialog></core:FragmentDefinition>',
	"rm/webshop/test/view/fragment/OrderSentDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"><Dialog\n        id="orderSentDialog"\n        title="Bestilling afsendt"><content><VBox class="sapUiContentPadding"><Text id="orderSentText" class="sapUiSmallMarginBottom" /></VBox></content><buttons><Button text="OK" press="onOrderSentConfirm" type="Emphasized" /></buttons></Dialog></core:FragmentDefinition>',
	"rm/webshop/test/view/fragment/RemoveFromFavoriteListDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"><Dialog\n        id="favoriteListDialogRemove" \n        title="{i18n>removeFromFavoriteListTitle}"\n        resizable="false"\n        draggable="true"\n        contentWidth="25rem"\n        afterClose=".onCloseRemoveFromListDialog"><content><VBox class="sapUiSmallMargin"><VBox id="listSelectContainerRemove"><Label text="{i18n>selectListToRemoveFrom}" class="sapUiSmallMarginBottom" /><Select\n                        id="favoriteListDialogSelectRemove"\n                        width="100%"\n                        items="{webshop>/removableLists}"><core:Item key="{webshop>FavoriteList}" text="{webshop>FavoriteList}" /></Select></VBox><VBox id="newListInputContainerRemove" visible="false"></VBox></VBox></content><buttons><Button\n                id="saveListButtonRemove"\n                text="{i18n>removeListConfirm}"\n                type="Reject" \n                press=".onConfirmRemoveFavorite" /><Button\n                text="{i18n>cancel}"\n                press=".onCloseRemoveFromListDialog" /></buttons></Dialog></core:FragmentDefinition>',
	"rm/webshop/test/view/info.view.xml":'<mvc:View controllerName="rm.webshop.test.controller.info"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:u="sap.uxap"\n    xmlns:layout="sap.ui.layout"\n    xmlns="sap.m"><u:ObjectPageHeaderContent id="InfoViewObjHeader"><u:content><Image id="InfoViewImageLogo"\n                src="{\n                    path: \'view>/rmLogo\',\n                    formatter : \'.formatter.pictureUrl\'\n                }"\n                width="18%" height="10%"/><Image id="InfoViewImageToAddSpace"\n                src="{\n                    path: \'view>/123\'\n                }"\n                width="50%" height="5%"/><layout:VerticalLayout id="InfoViewUserInfoHeader"><Text text="Læge: {view>/UserInfo/doctor}" class="smallText" id="doctor"/><Text text="Yder nr: {view>/UserInfo/ydernr}" class="smallText" id="ydernr"/><Text text="CVR nr: {view>/UserInfo/cvrnr}" class="smallText" id="cvrnr"/><Text text="Bruger nr: {view>/UserInfo/brugernr}" class="smallText" id="bruger"/></layout:VerticalLayout><layout:VerticalLayout id="hi"><Button text="Log af" press=".onBack"></Button><Button\n                    icon="sap-icon://cart"\n                    press=".onOpenBasket"\n                    tooltip="Vis kurv"></Button></layout:VerticalLayout></u:content></u:ObjectPageHeaderContent><Page id="Infopage"><content><IconTabBar id="idTopLevelTab" select=".handleIconTabBarSelect"><items><IconTabFilter text="Info" id="HeadInfo" key="HeadInfo"/><IconTabFilter text="Varesøgning/Varekurv" id="HeadSoegning" key="HeadXSoegning"/><IconTabFilter text="Bestillingsoversigt" id="HeadOversigt" key="HeadXOversigt"/><IconTabFilter text="Profil" id="HeadProfil" key="HeadXProfil"/><IconTabFilter text="Hjælp" id="HeadSupport" key="HeadXSupport"/></items></IconTabBar><VBox id="helpContent" visible="{= ${view>/selectedTabKey} === \'HeadInfo\'}"><Panel id="deliveryPanel" \n                    headerText="Leveringsinformation" \n                    expandable="true" \n                    expanded="true" \n                    class="sapUiSmallMargin" \n                    width="90%"><content><FormattedText \n                            htmlText="{view>/deliveryInfoHTML}" \n                            class="sapUiTinyMargin" \n                            id="idDeliveryInfo" /></content></Panel><Panel id="faqPanel" headerText="{i18n>nyhederOgInformation}" expandable="true" expanded="true" class="sapUiSmallMargin" width="90%"><Title text="Vigtig information om ny Kamara virus:"/><VBox><Text text="Generelle informationer skal displayes." /></VBox></Panel></VBox></content></Page></mvc:View>',
	"rm/webshop/test/view/main.view.xml":'<mvc:View controllerName="rm.webshop.test.controller.main"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><Page id="idPage" title="{i18n>title}"><content><IconTabBar id="idtablogin"><items><IconTabFilter text="{i18n>loginmitid}" id="idMitID"><content></content></IconTabFilter><IconTabFilter text="{i18n>loginbruger}" id="idSAPlogin"><content><Label text="Log på" id="idloginHeader" /><Input placeholder="CPR" id="iduserIdInput" /><Input placeholder="CVR" id="idpasswordInput" /><Button text="Log på som patient" id="idloginButton" press="onPressLogin" /><Button text="Log på som læge" id="idloginDoc" press="onPressDoc" /><Button text="{i18n>forgotpw}" id="idforgotPassword" /></content></IconTabFilter></items></IconTabBar></content></Page></mvc:View>',
	"rm/webshop/test/view/profil.view.xml":'<mvc:View controllerName="rm.webshop.test.controller.profil"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:u="sap.uxap"\n    xmlns:layout="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"><u:ObjectPageHeaderContent id="BestillingViewObjHeader"><u:content><Image id="BestillingViewImageLogo"\n                src="{\n                    path: \'view>/rmLogo\'\n                }"\n                width="18%" height="10%"/><Image id="BestillingViewImageToAddSpace"\n                src="{\n                    path: \'view>/123\'\n                }"\n                width="40%" height="5%"/><layout:VerticalLayout id="ProfilViewUserInfoHeader"><Text text="Navn: {view>/UserInfo/navn}" class="smallText" id="doctor"/><Text text="Adresse: {view>/UserInfo/street}, {view>/UserInfo/zip} {view>/UserInfo/city}" class="smallText" id="ydernr"/><Text text="Telefon: {view>/UserInfo/tlfnr}" class="smallText" id="cvrnr"/><Text text="Bruger nr: {view>/UserInfo/brugernr}" class="smallText" id="bruger"/><Text text="Afdeling: {view>/UserInfo/afdeling}" class="smallText" id="afd"/></layout:VerticalLayout><layout:VerticalLayout id="hi"><Button text="Log af" press=".onBack"></Button><Button\n                    icon="sap-icon://cart"\n                    press=".onOpenBasket"\n                    tooltip="Vis kurv"></Button></layout:VerticalLayout></u:content></u:ObjectPageHeaderContent><Page id="Profilpage"><content><IconTabBar id="idTopLevelTab" select=".handleIconTabBarSelect"><items><IconTabFilter text="Varesøgning/Varekurv" id="ProfilHeadSoegning" key="HeadSoegning" /><IconTabFilter text="Bestillingsoversigt" id="ProfilHeadOversigt" key="HeadOversigt" /><IconTabFilter text="Profil" id="ProfilHeadProfil" key="HeadProfil" /><IconTabFilter text="Hjælp" id="HeadSupport" key="HeadSupport"/></items></IconTabBar><Page id="ProfildetailPage"><content><VBox class="sapUiTinyMargin"><VBox id="existingAddressesBox" visible="{= ${profilView>/selectedAddressOption} === 0 }"><Title level="H2" text="Registreret adresse" class="sapUiSmallMarginTop" /><List id="ProfilAddressList" items="test"><CustomListItem><HBox class="sapUiTinyMargin" justifyContent="SpaceBetween" width="100%"><Text text="{view>/UserInfo/street}, {view>/UserInfo/zip} {view>/UserInfo/city}" /></HBox></CustomListItem></List></VBox><VBox id="newAddressesBox" visible="{= ${profilView>/selectedAddressOption} === 1 }"><Title level="H2" text="Indtast alternativ adresse" class="sapUiSmallMarginTop" /><form:SimpleForm\n                                    xmlns:form="sap.ui.layout.form"\n                                    editable="true"\n                                    layout="ResponsiveGridLayout"\n                                    class="sapUiResponsivePadding"><form:content><Label text="Gadenavn og nr.:" /><Input value="{view>/UserInfo/DelStreet}" placeholder="Indtast gadenavn" /><Label text="Postnummer" /><Input value="{view>/UserInfo/DelZip}" placeholder="Indtast postnummer" /><Label text="By" /><Input value="{view>/UserInfo/DelCity}" placeholder="Indtast by" /></form:content></form:SimpleForm></VBox><Title level="H2" text="Mail og telefonnummer" class="sapUiSmallMarginTop" /><form:SimpleForm xmlns:form="sap.ui.layout.form" editable="true"\n                                    layout="ResponsiveGridLayout" class="sapUiResponsivePadding"><form:content><core:Title text=" "/><Label text="Email" /><Input id="emailInput" placeholder="Indtast email" value="{view>/UserInfo/mail}" /><core:Title text=" "/><Label text="Telefonnummer" /><HBox alignItems="Center"><Input value="+45" width="4em" editable="false" textAlign="Center" class="sapUiTinyMarginEnd" \n                                                    id="phonePrefixProfil"/><Input id="phoneInput" placeholder="Indtast telefonnummer" \n                                                    value="{view>/UserInfo/phone}" type="Tel" width="100%"/></HBox></form:content></form:SimpleForm><Button text="Gem" press="onUpdateUser" /></VBox></content></Page></content></Page></mvc:View>',
	"rm/webshop/test/view/support.view.xml":'<mvc:View controllerName="rm.webshop.test.controller.support"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:u="sap.uxap"\n    xmlns:layout="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"><u:ObjectPageHeaderContent id="BestillingViewObjHeader"><u:content><Image id="BestillingViewImageLogo"\n                src="{\n                    path: \'view>/rmLogo\'\n                }"\n                width="18%" height="10%"/><Image id="BestillingViewImageToAddSpace"\n                src="{\n                    path: \'view>/123\'\n                }"\n                width="40%" height="5%"/><layout:VerticalLayout id="ProfilViewUserInfoHeader"><Text text="Navn: {view>/UserInfo/navn}" class="smallText" id="doctor"/><Text text="Adresse: {view>/UserInfo/adresse}, {view>/UserInfo/zip} {view>/UserInfo/by}" class="smallText" id="ydernr"/><Text text="Telefon: {view>/UserInfo/tlfnr}" class="smallText" id="cvrnr"/><Text text="Bruger nr: {view>/UserInfo/brugernr}" class="smallText" id="bruger"/><Text text="Afdeling: {view>/UserInfo/afdeling}" class="smallText" id="afd"/></layout:VerticalLayout><layout:VerticalLayout id="hi"><Button text="Log af" press=".onBack"></Button><Button\n                    icon="sap-icon://cart"\n                    press=".onOpenBasket"\n                    tooltip="Vis kurv"></Button></layout:VerticalLayout></u:content></u:ObjectPageHeaderContent><Page id="Supportpage"><content><IconTabBar id="idTopLevelTab" select=".handleIconTabBarSelect"><items><IconTabFilter text="Varesøgning/Varekurv" id="HeadSoegning" key="HeadSoegning"/><IconTabFilter text="Bestillingsoversigt" id="HeadOversigt" key="HeadOversigt"/><IconTabFilter text="Profil" id="HeadProfil" key="HeadProfil"/><IconTabFilter text="Hjælp" id="HeadSupport" key="HeadSupport"/></items></IconTabBar><VBox id="helpContent" visible="{= ${view>/selectedTabKey} === \'HeadSupport\'}"><Panel id="contactPanel" headerText="Kontakt os" expandable="true" expanded="true" class="sapUiSmallMargin" width="90%"><content><VBox><Text text="Har du brug for hjælp, er du velkommen til at kontakte os. " class="sapUiTinyMarginEnd" /><Text text="Mail: rm@webshop.dk." class="sapUiTinyMarginEnd" /><Text text="Telefon: +45 12 34 56 78." class="sapUiTinyMarginEnd" /></VBox><Text text="Vores åbningstider er mandag til fredag fra 09:00 til 17:00." /></content></Panel><Panel id="faqPanel" headerText="Vejledninger" expandable="true" expanded="true" class="sapUiSmallMargin" width="90%"><Text text="Vejledning til at lave en bestilling:" class="sapUiTinyMarginBottom"  /><VBox><Text text="1. Gå til \'Varesøgning\' fanen." /><Text text="2. Søg efter produkter og tilføj dem til din kurv." /><Text text="3. Tryk på \'Bestil\'." /><Text text="4. Vælg og bekræft dine leverings- og kontaktoplysninger." /><Text text=" " /></VBox><Text text="Vejledning til at opdatere din profil:" class="sapUiTinyMarginBottom" design="Bold" /><VBox><Text text="1. Gå til \'Profil\' fanen." /><Text text="2. Klik på \'Rediger\' knappen." /><Text text="3. Foretag dine ændringer og klik på \'Gem\'." /></VBox></Panel></VBox></content></Page></mvc:View>',
	"rm/webshop/test/view/vaelgklinik.view.xml":'<mvc:View controllerName="rm.webshop.test.controller.vaelgklinik"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><Page title="Vælg klinik"><content><List id="userList"\n                  items="{loginUsers>/users}"\n                  mode="SingleSelectMaster"\n                  selectionChange=".onSelectClinic"><StandardListItem\n                    title="{loginUsers>AdrName}"\n                    description="{loginUsers>AdrStreet}, {loginUsers>AdrZip} {loginUsers>AdrCity}"\n                    info="{loginUsers>UserNo} {loginUsers>Afdeling}"\n                    infoState="Success"/></List></content></Page></mvc:View>\n',
	"rm/webshop/test/view/varesog.view.xml":'<mvc:View controllerName="rm.webshop.test.controller.varesog"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:u="sap.uxap"\n    xmlns:layout="sap.ui.layout"\n    xmlns="sap.m"><u:ObjectPageHeaderContent id="BestillingViewObjHeader"><u:content><Image id="BestillingViewImageLogo"\n                src="{\n                    path: \'view>/rmLogo\'\n                }"\n                width="18%" height="10%"/><Image id="BestillingViewImageToAddSpace"\n                src="{\n                    path: \'view>/123\'\n                }"\n                width="40%" height="5%"/><layout:VerticalLayout id="ProfilViewUserInfoHeader"><Text text="Navn: {view>/UserInfo/navn}" class="smallText" id="doctor"/><Text text="Adresse: {view>/UserInfo/adresse}, {view>/UserInfo/zip} {view>/UserInfo/by}" class="smallText" id="ydernr"/><Text text="Telefon: {view>/UserInfo/tlfnr}" class="smallText" id="cvrnr"/><Text text="Bruger nr: {view>/UserInfo/brugernr}" class="smallText" id="bruger"/><Text text="Afdeling: {view>/UserInfo/afdeling}" class="smallText" id="afd"/></layout:VerticalLayout><layout:VerticalLayout id="hi"><Button text="Log af" press=".onBack"></Button><Button\n                    icon="sap-icon://cart"\n                    press=".onOpenBasket"\n                    tooltip="Vis kurv"></Button></layout:VerticalLayout></u:content></u:ObjectPageHeaderContent><Page id="page"><content><IconTabBar id="idTopLevelTab" select=".handleIconTabBarSelect"><items><IconTabFilter text="Varesøgning/Varekurv" id="HeadSoegning" key="HeadSoegning"/><IconTabFilter text="Bestillingsoversigt" id="HeadOversigt" key="HeadOversigt"/><IconTabFilter text="Profil" id="HeadProfil" key="HeadProfil"/><IconTabFilter text="Hjælp" id="HeadSupport" key="HeadSupport"/></items></IconTabBar><layout:Splitter id="VaresogViewSplitter" orientation="Horizontal" height="70%"><layout:contentAreas><Page id="masterPage" title="{i18n>products}" class="myMasterPage"\n                    layoutData="{layout:SplitterLayoutData, resizable: true, size: \'60%\'}"><headerContent><SearchField\n                                        id="searchField"\n                                        placeholder="{i18n>searchPlaceholder}"\n                                        liveChange=".onSearchMaterials"/></headerContent><VBox id="VaresogViewSplitterVbox"><List id="catalogList" items="{\n                                path: \'view>/catalog\'\n                            }"\n                            mode="SingleSelectMaster"\n                            itemPress=".onCatalogItemPress"><CustomListItem><Panel expandable="true" expanded="false" expand=".onExpandMaterial"><headerToolbar><Toolbar class="customPanelHeader" height="90%"><HBox width="100%" alignItems="Center"><Image\n                                                    src="{\n                                                        path: \'view>PictureUrl\',\n                                                        formatter: \'.formatter.pictureUrl\'\n                                                    }"\n                                                    width="50px" height="60px"\n                                                    class="sapUiSmallMarginEnd"/><HBox width="100%" justifyContent="SpaceBetween" alignItems="Center"><VBox class="sapUiTinyMarginBegin"><Text text="{view>Maktx}" wrapping="true" /><Text text="{view>Levmat} ({view>Matnr})" /></VBox><VBox class="sapUiTinyMarginEnd" alignItems="End"><Text text="{view>OrderUnitEdit}"/><Button text="{i18n>addToCart}" press=".onAddToCart"/></VBox></HBox></HBox></Toolbar></headerToolbar><content><VBox class="sapUiSmallMargin"><Text text="Yderligere information:" /><Text text="Kan kun bestilles i multiplum af {view>Multiplum}" \n                                                visible="{= !!${view>Multiplum} }" /><Text text="UNSPSC: {view>Unspsc}" \n                                                visible="{= !!${view>Unspsc} }" /><Text text="GTIN: {view>Gtin}" \n                                                visible="{= ${view>Gtin} !== \'00000000000000\' }" /><Text text="Lang varebeskrivelse: {view>MaktxLong}" \n                                                visible="{= !!${view>MaktxLong} }" /><List\n                                                    showNoData="false"\n                                                    items="{\n                                                        path: \'view>CatalogAttributeSet/results\',\n                                                        filters: [{ path: \'AttrType\', operator: \'EQ\', value1: \'MDM\' }]\n                                                    }"\n                                                    visible="{= !!${view>CatalogAttributeSet/results} }"><CustomListItem><HBox><Text text="{view>MdmField}: " class="sapUiTinyMarginEnd"/><Text text="{view>MdmValue}" /></HBox></CustomListItem></List><List\n                                                    showNoData="false"\n                                                    items="{\n                                                        path: \'view>CatalogAttributeSet/results\',\n                                                        filters: [\n                                                            { path: \'AttrType\', operator: \'EQ\', value1: \'DOC\' }\n                                                        ]\n                                                    }"\n                                                    visible="{= !!${view>CatalogAttributeSet/results} }"><CustomListItem><HBox><Text text="Dokument: " class="sapUiTinyMarginEnd"/><Link text="{view>Url}" href="{view>Url}" target="_blank" /></HBox></CustomListItem></List><List\n                                                    showNoData="false"\n                                                    items="{\n                                                        path: \'view>CatalogAttributeSet/results\',\n                                                        filters: [\n                                                            { path: \'AttrType\', operator: \'EQ\', value1: \'PIC\' }\n                                                        ]\n                                                    }"\n                                                    visible="{= !!${view>CatalogAttributeSet/results} }"><CustomListItem><HBox><Text text="Billeder: " class="sapUiTinyMarginEnd"/><Image\n                                                                src="{\n                                                                    path: \'view>Url\',\n                                                                    formatter: \'.formatter.pictureUrl\'\n                                                                }"\n                                                                width="60px" height="60px"\n                                                                class="sapUiSmallMarginEnd"\n                                                                visible="{= !${/sap/ui/Device/system/phone} }"/></HBox></CustomListItem></List></VBox></content></Panel></CustomListItem></List></VBox></Page><Page\n            id="detailPage"\n            title="{i18n>cart}"\n            layoutData="{layout:SplitterLayoutData, resizable: true, size: \'40%\'}"><headerContent><Button id="VaresogViewButtonOrder"\n                        text="{i18n>order}"\n                        press=".onOrder"/></headerContent><List id="basketList" items="{view>/shoppingcart}"><CustomListItem id="VaresogViewCustomListFav"><HBox id="VaresogViewHboxMaterialsFav" justifyContent="SpaceBetween"><VBox id="VaresogViewVboxMaterialsFav"><Text id="VaresogViewProductsFav" text="{view>Maktx}"/><Text id="VaresogViewItemNumbersFav" text="{view>Levmat} ({view>Matnr})"/></VBox><VBox id="VaresogViewVboxMaterialsQuant"><Text id="VaresogViewUnit" text="{view>OrderUnitEdit}"/><HBox id="VaresogViewHBoxQuantities" class="myHBoxSpacing"><Button id="VaresogViewButtonDecrQuant" text="{i18n>decreaseQuantity}" press=".onDecreaseQuantity"/><Text id="VaresogViewQuantityText" text="{view>OrderQuantity}"/><Button id="VaresogViewButtonIncrQuant" text="{i18n>increaseQuantity}" press=".onAddToCart"/><Button id="VaresogViewButtonRemoveFromCart" icon="sap-icon://delete" press=".onRemoveFromCart"/></HBox></VBox></HBox></CustomListItem></List></Page></layout:contentAreas></layout:Splitter></content></Page></mvc:View>',
	"rm/webshop/test/view/xdocbestilling.view.xml":'<mvc:View controllerName="rm.webshop.test.controller.xdocbestilling"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:u="sap.uxap"\n    xmlns:layout="sap.ui.layout"\n    xmlns="sap.m"><u:ObjectPageHeaderContent id="InfoViewObjHeader"><u:content><Image id="InfoViewImageLogo"\n                src="{\n                    path: \'view>/rmLogo\',\n                    formatter : \'.formatter.pictureUrl\'\n                }"\n                width="18%" height="10%"/><Image id="InfoViewImageToAddSpace"\n                src="{\n                    path: \'view>/123\'\n                }"\n                width="50%" height="5%"/><layout:VerticalLayout id="InfoViewUserInfoHeader"><Text text="Læge: {view>/UserInfo/doctor}" class="smallText" id="doctor"/><Text text="Yder nr: {view>/UserInfo/ydernr}" class="smallText" id="ydernr"/><Text text="CVR nr: {view>/UserInfo/cvrnr}" class="smallText" id="cvrnr"/><Text text="Bruger nr: {view>/UserInfo/brugernr}" class="smallText" id="bruger"/></layout:VerticalLayout><layout:VerticalLayout id="hi"><Button text="Log af" press=".onBack"></Button><Button\n                    icon="sap-icon://cart"\n                    press=".onOpenBasket"\n                    tooltip="Vis kurv"></Button></layout:VerticalLayout></u:content></u:ObjectPageHeaderContent><Page id="Infopage"><content><IconTabBar id="idTopLevelTab" select=".handleIconTabBarSelect"><items><IconTabFilter text="Info" id="HeadInfo" key="HeadInfo"/><IconTabFilter text="Varesøgning/Varekurv" id="HeadSoegning" key="HeadXSoegning"/><IconTabFilter text="Bestillingsoversigt" id="HeadOversigt" key="HeadXOversigt"/><IconTabFilter text="Profil" id="HeadProfil" key="HeadXProfil"/><IconTabFilter text="Hjælp" id="HeadSupport" key="HeadXSupport"/></items></IconTabBar><layout:Splitter id="BestillingViewLayout" orientation="Horizontal" height="70%"><layout:contentAreas><Page id="BestillingdetailPage" title="Ordrehistorik" \n                      enableScrolling="false"\n                      layoutData="{layout:SplitterLayoutData, resizable: true, size: \'50%\'}"><content><VBox class="sapUiTinyMargin" height="100%"><CheckBox \n                                text="Vis også lukkede ordrer"\n                                id="showClosedOrdersCheckbox"\n                                selected="false"\n                                select=".onShowClosedOrdersToggle" /><List\n                                    id="orderList"\n                                    items="{path: \'ordersModel>/orders\'}"\n                                    mode="SingleSelectMaster"\n                                    selectionChange="onOrderSelect"\n                                    growing="true"\n                                    growingScrollToLoad="true"\n                                    growingThreshold="50"><CustomListItem><VBox class="sapUiSmallMarginBegin sapUiSmallMarginTop"><HBox justifyContent="SpaceBetween"><Text text="Ordrenr: {ordersModel>OrderNo}" /><Text text="Status: {ordersModel>HeaderStatusText}"/></HBox><Text text="Ordre afgivet d. {ordersModel>OrderDateEdit} kl. {ordersModel>OrderTimeEdit}" /></VBox></CustomListItem></List></VBox></content></Page><Page \n                        id="BestillingDetailPage"\n                        title="Ordre Detaljer"><Button text="Tilføj kopi af ordre til kurv" press="onCopyOrder"></Button><List\n                            id="orderItemsList"\n                            noDataText="Ingen varer fundet for denne ordre"><CustomListItem><HBox fitContainer="true" alignItems="Center" justifyContent="SpaceBetween" class="sapUiTinyMargin"><VBox class="sapUiTinyMarginEnd fixedImageCol"><Image\n                                        src="{ path: \'ordersModel>PictureUrl\', formatter: \'.formatter.pictureUrl\' }"\n                                        width="60px" height="60px"\n                                        class="sapUiSmallMarginBottom"/></VBox><VBox class="sapUiSmallMarginEnd middleCol"><Text text="{ordersModel>Maktx}" maxLines="2" wrapping="true" class="sapMObjectListItemTitle"/><Text text="Varenr: {ordersModel>Matnr}" class="sapMObjectListItemIntro"/><Text text="Leverandør varenr: {ordersModel>Levmat}" class="sapMObjectListItemIntro"/><Text text="Generel status: {ordersModel>ItemStatusText}" class="sapMObjectListItemIntro"/><Text text="Forventet levering: {ordersModel>ExpectDelivDateEdit}" class="sapMObjectListItemIntro"/><VBox items="{ordersModel>TrackTraces}"><HBox class="sapUiSmallMarginBegin sapUiTinyMarginTop" alignItems="Center"><items><HBox width="190px"><Text text=" • {ordersModel>CreateDateEdit} {ordersModel>TtStatusText} {ordersModel>OrderQuantity} {ordersModel>OrderUnit}" /></HBox><Text text=" | " class="sapUiTinyMarginBeginEnd" /><Link text="Track &amp; Trace"\n                                                    href="{ordersModel>UrlTrackTrace}"\n                                                    target="_blank"\n                                                    class="sapMObjectListItemIntro"/></items></HBox></VBox></VBox><VBox class="fixedRightCol"><Text text="{ordersModel>OrderUnitEdit}" class="sapMObjectListItemIntro"/><ObjectStatus title="Antal" text="{ordersModel>OrderQuantity}" state="Success"/><Button text="Tilføj vare til kurv" press="onCopyOrderItem"/></VBox></HBox></CustomListItem></List></Page></layout:contentAreas></layout:Splitter></content></Page></mvc:View>',
	"rm/webshop/test/view/xdocprofil.view.xml":'<mvc:View controllerName="rm.webshop.test.controller.xdocprofil"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:u="sap.uxap"\n    xmlns:layout="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n    xmlns:form="sap.ui.layout.form"  xmlns="sap.m"><u:ObjectPageHeaderContent id="InfoViewObjHeader"><u:content><Image id="InfoViewImageLogo"\n                src="{\n                    path: \'view>/rmLogo\',\n                    formatter : \'.formatter.pictureUrl\'\n                }"\n                width="18%" height="10%"/><Image id="InfoViewImageToAddSpace"\n                src="{\n                    path: \'view>/123\'\n                }"\n                width="50%" height="5%"/><layout:VerticalLayout id="InfoViewUserInfoHeader"><Text text="Læge: {view>/UserInfo/doctor}" class="smallText" id="doctor"/><Text text="Yder nr: {view>/UserInfo/ydernr}" class="smallText" id="ydernr"/><Text text="CVR nr: {view>/UserInfo/cvrnr}" class="smallText" id="cvrnr"/><Text text="Bruger nr: {view>/UserInfo/brugernr}" class="smallText" id="bruger"/></layout:VerticalLayout><layout:VerticalLayout id="hi"><Button text="Log af" press=".onBack"></Button><Button\n                    icon="sap-icon://cart"\n                    press=".onOpenBasket"\n                    tooltip="Vis kurv"></Button></layout:VerticalLayout></u:content></u:ObjectPageHeaderContent><Page id="Infopage"><content><IconTabBar id="idTopLevelTab" select=".handleIconTabBarSelect"><items><IconTabFilter text="Info" id="HeadInfo" key="HeadInfo"/><IconTabFilter text="Varesøgning/Varekurv" id="HeadSoegning" key="HeadXSoegning"/><IconTabFilter text="Bestillingsoversigt" id="HeadOversigt" key="HeadXOversigt"/><IconTabFilter text="Profil" id="HeadProfil" key="HeadXProfil"/><IconTabFilter text="Hjælp" id="HeadSupport" key="HeadXSupport"/></items></IconTabBar><layout:Splitter id="ProfilProfilViewLayout" orientation="Horizontal"><layout:contentAreas><Page id="ProfildetailPage" title="Leveringsoplysninger"\n                         layoutData="{layout:SplitterLayoutData, resizable: true, size: \'50%\'}"><content><VBox class="sapUiTinyMargin"><Title level="H2" text="Adresse" class="sapUiSmallMarginTop" /><HBox class="sapUiTinyMargin" justifyContent="SpaceBetween" width="100%"><Text text="{view>/UserInfo/street}, {view>/UserInfo/zip} {view>/UserInfo/city}"/></HBox><Title level="H2" text="Kontaktoplysninger" class="sapUiSmallMarginTop" /><VBox class="sapUiTinyMarginTop"><Label text="Email" /><Input id="emailInput" placeholder="Indtast email" value="{view>/UserInfo/mail}" /><Label text="Telefonnummer" /><HBox alignItems="Center"><Input value="+45" width="4em" editable="false" textAlign="Center" class="sapUiTinyMarginEnd" \n                                            id="phonePrefixProfil"/><Input id="phoneInput" placeholder="Indtast telefonnummer" \n                                            value="{view>/UserInfo/phone}" type="Tel" width="33em"/></HBox></VBox><Button id="GemKontakt" text="Gem kontaktoplysninger" press=".onUpdateContactInfo"></Button></VBox></content></Page><Page id="delPage" title="Generelt"\n                          layoutData="{layout:SplitterLayoutData, resizable: true, size: \'50%\'}"><content><VBox class="sapUiTinyMargin"><HBox alignItems="Center"><Text text="Vis favoritliste ved start" class="sapUiTinyMarginEnd" /><ComboBox id="favoritesComboBox" items="{webshop>/lists}" selectedKey="{view>/UserInfo/favorite}"><core:Item key="{webshop>FavoriteList}" text="{webshop>FavoriteList}" /></ComboBox></HBox><Button id="GemFavorit" text="Gem" press=".onUpdateFavoriteList"></Button></VBox></content></Page></layout:contentAreas></layout:Splitter></content></Page></mvc:View>',
	"rm/webshop/test/view/xdocsupport.view.xml":'<mvc:View controllerName="rm.webshop.test.controller.xdocsupport"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:u="sap.uxap"\n    xmlns:layout="sap.ui.layout"\n    xmlns="sap.m"><u:ObjectPageHeaderContent id="InfoViewObjHeader"><u:content><Image id="InfoViewImageLogo"\n                src="{\n                    path: \'view>/rmLogo\',\n                    formatter : \'.formatter.pictureUrl\'\n                }"\n                width="18%" height="10%"/><Image id="InfoViewImageToAddSpace"\n                src="{\n                    path: \'view>/123\'\n                }"\n                width="50%" height="5%"/><layout:VerticalLayout id="InfoViewUserInfoHeader"><Text text="Læge: {view>/UserInfo/doctor}" class="smallText" id="doctor"/><Text text="Yder nr: {view>/UserInfo/ydernr}" class="smallText" id="ydernr"/><Text text="CVR nr: {view>/UserInfo/cvrnr}" class="smallText" id="cvrnr"/><Text text="Bruger nr: {view>/UserInfo/brugernr}" class="smallText" id="bruger"/></layout:VerticalLayout><layout:VerticalLayout id="hi"><Button text="Log af" press=".onBack"></Button><Button\n                    icon="sap-icon://cart"\n                    press=".onOpenBasket"\n                    tooltip="Vis kurv"></Button></layout:VerticalLayout></u:content></u:ObjectPageHeaderContent><Page id="Infopage"><content><IconTabBar id="idTopLevelTab" select=".handleIconTabBarSelect"><items><IconTabFilter text="Info" id="HeadInfo" key="HeadInfo"/><IconTabFilter text="Varesøgning/Varekurv" id="HeadSoegning" key="HeadXSoegning"/><IconTabFilter text="Bestillingsoversigt" id="HeadOversigt" key="HeadXOversigt"/><IconTabFilter text="Profil" id="HeadProfil" key="HeadXProfil"/><IconTabFilter text="Hjælp" id="HeadSupport" key="HeadXSupport"/></items></IconTabBar><VBox id="helpContent" visible="{= ${view>/selectedTabKey} === \'HeadXSupport\'}"><Panel id="contactPanel" headerText="Kontakt os" expandable="true" expanded="true" class="sapUiSmallMargin" width="90%"><content><VBox><Text text="Har du brug for hjælp, er du velkommen til at kontakte os. " class="sapUiTinyMarginEnd" /><Text text="Mail: rm@webshop.dk." class="sapUiTinyMarginEnd" /><Text text="Telefon: +45 12 34 56 78." class="sapUiTinyMarginEnd" /></VBox><Text text="Vores åbningstider er mandag til fredag fra 09:00 til 17:00." /></content></Panel><Panel id="faqPanel" headerText="Vejledninger" expandable="true" expanded="true" class="sapUiSmallMargin" width="90%"><Text text="Vejledning til at lave en bestilling:" class="sapUiTinyMarginBottom"  /><VBox><Text text="1. Gå til \'Varesøgning\' fanen." /><Text text="2. Søg efter produkter og tilføj dem til din kurv." /><Text text="3. Tryk på \'Bestil\'." /><Text text="4. Vælg og bekræft dine leverings- og kontaktoplysninger." /><Text text=" " /></VBox><Text text="Vejledning til at opdatere din profil:" class="sapUiTinyMarginBottom" design="Bold" /><VBox><Text text="1. Gå til \'Profil\' fanen." /><Text text="2. Klik på \'Rediger\' knappen." /><Text text="3. Foretag dine ændringer og klik på \'Gem\'." /></VBox></Panel></VBox></content></Page></mvc:View>',
	"rm/webshop/test/view/xdocvaresog.view.xml":'<mvc:View controllerName="rm.webshop.test.controller.xdocvaresog"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:u="sap.uxap"\n    xmlns:layout="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"><u:ObjectPageHeaderContent id="InfoViewObjHeader"><u:content><Image id="InfoViewImageLogo"\n                src="{\n                    path: \'view>/rmLogo\',\n                    formatter : \'.formatter.pictureUrl\'\n                }"\n                width="18%" height="10%"/><Image id="InfoViewImageToAddSpace"\n                src="{\n                    path: \'view>/123\'\n                }"\n                width="50%" height="5%"/><layout:VerticalLayout id="InfoViewUserInfoHeader"><Text text="Læge: {view>/UserInfo/doctor}" class="smallText" id="doctor"/><Text text="Yder nr: {view>/UserInfo/ydernr}" class="smallText" id="ydernr"/><Text text="CVR nr: {view>/UserInfo/cvrnr}" class="smallText" id="cvrnr"/><Text text="Bruger nr: {view>/UserInfo/brugernr}" class="smallText" id="bruger"/></layout:VerticalLayout><layout:VerticalLayout id="hi"><Button text="Log af" press=".onBack"></Button><Button\n                    icon="sap-icon://cart"\n                    press=".onOpenBasket"\n                    tooltip="Vis kurv"></Button></layout:VerticalLayout></u:content></u:ObjectPageHeaderContent><Page id="Infopage"><content><IconTabBar id="idTopLevelTab" select=".handleIconTabBarSelect"><items><IconTabFilter text="Info" id="HeadInfo" key="HeadInfo"/><IconTabFilter text="Varesøgning/Varekurv" id="HeadSoegning" key="HeadXSoegning"/><IconTabFilter text="Bestillingsoversigt" id="HeadOversigt" key="HeadXOversigt"/><IconTabFilter text="Profil" id="HeadProfil" key="HeadXProfil"/><IconTabFilter text="Hjælp" id="HeadSupport" key="HeadXSupport"/></items></IconTabBar><layout:Splitter id="VaresogViewSplitter" orientation="Horizontal" height="70%"><layout:contentAreas><Page id="masterPage" title="{i18n>products}" class="myMasterPage"\n                    layoutData="{layout:SplitterLayoutData, resizable: true, size: \'60%\'}"><headerContent><SearchField\n                            id="searchField"\n                            placeholder="{i18n>searchPlaceholder}"\n                            liveChange=".onSearchMaterials"\n                            width="18em"/><Select\n                                    id="favoriteListSelect"\n                                    width="11em"\n                                    forceSelection="false"\n                                    selectedKey="{view>/selectedList}"\n                                    change="onFilterMaterialsByList"\n                                    items="{webshop>/lists}"><core:Item key="" text="Alle lister" /><core:Item\n                                        key="{webshop>FavoriteList}"\n                                        text="{webshop>FavoriteList}" /></Select></headerContent><VBox id="VaresogViewSplitterVbox" height="60%"><List id="catalogList" \n                            items="{path: \'view>/catalog\'}"\n                            mode="SingleSelectMaster"\n                            itemPress=".onCatalogItemPress"\n                            growing="true"><CustomListItem><Panel expandable="true" expanded="false" expand=".onExpandMaterial"><headerToolbar><Toolbar class="customPanelHeader" height="90%"><HBox width="100%" alignItems="Center"><Image\n                                                    src="{\n                                                        path: \'view>PictureUrl\',\n                                                        formatter: \'.formatter.pictureUrl\'\n                                                    }"\n                                                    width="60px" height="60px"\n                                                    class="sapUiSmallMarginEnd"\n                                                    visible="{= !${/sap/ui/Device/system/phone} }"/><HBox width="100%" justifyContent="SpaceBetween" alignItems="Center"><VBox class="sapUiTinyMarginBegin"><Text text="{view>Maktx}" wrapping="true" /><Text text="{view>Levmat} ({view>Matnr})" /><Text text="Indgår i favoritliste(r): {view>IncludedInFavorites}" /></VBox><VBox class="sapUiTinyMarginEnd" alignItems="End"><Text text="{view>OrderUnitEdit}"/><Button text="{i18n>addToCart}" press=".onAddToCart"/></VBox></HBox></HBox></Toolbar></headerToolbar><content><VBox class="sapUiSmallMargin"><Text text="Yderligere information:" /><Text text="Kan kun bestilles i multiplum af {view>Multiplum}" \n                                                visible="{= !!${view>Multiplum} }" /><Text text="UNSPSC: {view>Unspsc}" \n                                                visible="{= !!${view>Unspsc} }" /><Text text="GTIN: {view>Gtin}" \n                                                visible="{= ${view>Gtin} !== \'00000000000000\' }" /><Text text="Lang varebeskrivelse: {view>MaktxLong}" \n                                                visible="{= !!${view>MaktxLong} }" /><List\n                                                    showNoData="false"\n                                                    items="{\n                                                        path: \'view>CatalogAttributeSet/results\',\n                                                        filters: [{ path: \'AttrType\', operator: \'EQ\', value1: \'MDM\' }]\n                                                    }"\n                                                    visible="{= !!${view>CatalogAttributeSet/results} }"><CustomListItem><HBox><Text text="{view>MdmField}: " class="sapUiTinyMarginEnd"/><Text text="{view>MdmValue}" /></HBox></CustomListItem></List><List\n                                                    showNoData="false"\n                                                    items="{\n                                                        path: \'view>CatalogAttributeSet/results\',\n                                                        filters: [\n                                                            { path: \'AttrType\', operator: \'EQ\', value1: \'DOC\' }\n                                                        ]\n                                                    }"\n                                                    visible="{= !!${view>CatalogAttributeSet/results} }"><CustomListItem><HBox><Text text="Dokument: " class="sapUiTinyMarginEnd"/><Link text="{view>Url}" href="{view>Url}" target="_blank" /></HBox></CustomListItem></List><List\n                                                    showNoData="false"\n                                                    items="{\n                                                        path: \'view>CatalogAttributeSet/results\',\n                                                        filters: [\n                                                            { path: \'AttrType\', operator: \'EQ\', value1: \'PIC\' }\n                                                        ]\n                                                    }"\n                                                    visible="{= !!${view>CatalogAttributeSet/results} }"><CustomListItem><HBox><Text text="Billeder: " class="sapUiTinyMarginEnd"/><Image\n                                                                src="{\n                                                                    path: \'view>Url\',\n                                                                    formatter: \'.formatter.pictureUrl\'\n                                                                }"\n                                                                width="60px" height="60px"\n                                                                class="sapUiSmallMarginEnd"\n                                                                visible="{= !${/sap/ui/Device/system/phone} }"/></HBox></CustomListItem></List><Button \n                                                text="Fjern fra favoritliste" \n                                                press=".onRemoveFromFavoriteList"\n                                                enabled="{= ${view>IncludedInFavorites} !== \'\' }"\n                                                /><Button text="Tilføj til favoritliste" press=".onAddToFavoriteList"></Button></VBox></content></Panel></CustomListItem></List></VBox></Page><Page\n                    id="detailPage"\n                    title="{i18n>cart}"\n                    layoutData="{layout:SplitterLayoutData, resizable: true, size: \'40%\'}"><headerContent><Button id="VaresogViewButtonOrder"\n                                text="{i18n>order}"\n                                press=".onOrder"/></headerContent><List id="basketList" items="{view>/shoppingcart}"><CustomListItem id="VaresogViewCustomListFav"><HBox id="VaresogViewHboxMaterialsFav" justifyContent="SpaceBetween"><VBox id="VaresogViewVboxMaterialsFav"><Text id="VaresogViewProductsFav" text="{view>Maktx}"/><Text id="VaresogViewItemNumbersFav" text="{view>Levmat} ({view>Matnr})"/></VBox><VBox id="VaresogViewVboxMaterialsQuant"><Text id="VaresogViewUnit" text="{view>OrderUnitEdit}"/><HBox id="VaresogViewHBoxQuantities" class="myHBoxSpacing"><Button id="VaresogViewButtonDecrQuant" text="{i18n>decreaseQuantity}" press=".onDecreaseQuantity"/><Text id="VaresogViewQuantityText" text="{view>OrderQuantity}"/><Button id="VaresogViewButtonIncrQuant" text="{i18n>increaseQuantity}" press=".onAddToCart"/><Button id="VaresogViewButtonRemoveFromCart" icon="sap-icon://delete" press=".onRemoveFromCart"/></HBox></VBox></HBox></CustomListItem></List></Page></layout:contentAreas></layout:Splitter></content></Page></mvc:View>'
});
//# sourceMappingURL=Component-preload.js.map
