<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.ui.layout.form"
    xmlns:layout="sap.ui.layout">
    <Dialog
        id="orderConfirmationDialog"
        contentWidth="26rem"
        title="Bekræft bestilling">
        <content>

            <VBox class="sapUiMediumMargin sapUiTinyMarginTop">
                <Text
                    id="orderConfirmationText"
                    class="sapUiSmallMarginBottom" />

                <Title
                    level="H3"
                    text="Vælg leveringsadresse"
                    class="sapUiSmallMarginTop" />
                
                <VBox height="0.5rem"/>
                
                <RadioButtonGroup 
                    columns="2" 
                    selectedIndex="{orderDialog>/selectedAddressOption}" 
                    select="onAddressOptionSelect">
                    <buttons>
                        <RadioButton id="radioExisting" text="Registreret adresse" />
                        <RadioButton id="radioNew" text="Alternativ adresse" />
                    </buttons>
                </RadioButtonGroup>

            <VBox height="1rem"/>
                
                <Title
                    level="H3"
                    text="Din registrerede adresse"
                    class="sapUiSmallMarginTop" 
                    visible="{= ${orderDialog>/selectedAddressOption} === 0}"/>
                
                <VBox height="0.5rem"/>
                
                <Text
                    id="orderAddressText"
                    visible="{= ${orderDialog>/selectedAddressOption} === 0}"
                    text="{orderDialog>/registeredAddress/streetName} {orderDialog>/registeredAddress/streetNr}, {orderDialog>/registeredAddress/postalCode} {orderDialog>/registeredAddress/city}" />

                <Title
                    level="H3"
                    text="Alternativ leveringsadresse"
                    class="sapUiSmallMarginTop" 
                    visible="{= ${orderDialog>/selectedAddressOption} === 1}"/>
                    
                <f:SimpleForm
                    id="alternativeAddressForm"
                    editable="true"
                    layout="ResponsiveGridLayout"
                    visible="{= ${orderDialog>/selectedAddressOption} === 1}">
                    <f:content>
                        <Label text="Vejnavn og nr." />
                        <Input id="alternativeStreetInput" value="{orderDialog>/alternativeAddress/streetName}" />
                        <Label text="Postnummer" />
                        <Input id="alternativePostalCodeInput" value="{orderDialog>/alternativeAddress/postalCode}"
                                liveChange=".onZipcodeChange" />
                        <Label text="By" />
                        <Input id="alternativeCityInput" value="{orderDialog>/alternativeAddress/city}" />
                    </f:content>
                </f:SimpleForm>

             <VBox height="1rem"/>

                <Title
                    level="H3"
                    text="Kontaktinformation"
                    class="sapUiSmallMarginTop" />
                
                <VBox height="0.5rem"/>

                <Label text="Email:" />
                <Input id="emailInput" value="{orderDialog>/contactInfo/email}"/>

                <VBox height="0.5rem"/>

                <Label text="Telefonnummer:" class="sapUiSmallMarginTop" />
                <HBox>
                <Input value="+45" width="4em" editable="false" textAlign="Center" class="sapUiTinyMarginEnd" 
                                        id="phonePrefixProfil"/>
                <Input id="phoneInput" value="{orderDialog>/contactInfo/phone}" width="10em"/>
                </HBox>

            </VBox>

        </content>
        <buttons>
            <Button text="Bestil" press="onConfirmOrder" type="Emphasized" />
            <Button text="Annuller" press="onCancelOrder" />
        </buttons>
    </Dialog>
</core:FragmentDefinition>